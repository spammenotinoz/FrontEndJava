import{X as Yr,l as I,r as ie,w as te,g as ra,a1 as Ca,d as _e,Q as Vr,U as qr,Y as $a,W as gt,m as Ra,a as Na,e as Mr,ab as yt,t as La,p as Ta,f as za}from"./vue-ed5b065f.js";/** @license @lljj/vue3-form-naive (c) 2020-2023 Liu.Jun License: Apache-2.0 */function ae(r){return(ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(r)}function Z(r,a,o){return a in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,r}function ea(){return(ea=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(r[e]=o[e])}return r}).apply(this,arguments)}function bt(r,a){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);a&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),o.push.apply(o,e)}return o}function F(r){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?bt(Object(o),!0).forEach(function(e){Z(r,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):bt(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function yr(r,a){if(r==null)return{};var o,e,t=function(i,s){if(i==null)return{};var u,c,l={},h=Object.keys(i);for(c=0;c<h.length;c++)u=h[c],s.indexOf(u)>=0||(l[u]=i[u]);return l}(r,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);for(e=0;e<n.length;e++)o=n[e],a.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(r,o)&&(t[o]=r[o])}return t}function Ur(r,a){return function(o){if(Array.isArray(o))return o}(r)||function(o,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(o)))){var t=[],n=!0,i=!1,s=void 0;try{for(var u,c=o[Symbol.iterator]();!(n=(u=c.next()).done)&&(t.push(u.value),!e||t.length!==e);n=!0);}catch(l){i=!0,s=l}finally{try{n||c.return==null||c.return()}finally{if(i)throw s}}return t}}(r,a)||ta(r,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fr(r){return function(a){if(Array.isArray(a))return Ke(a)}(r)||function(a){if(typeof Symbol<"u"&&Symbol.iterator in Object(a))return Array.from(a)}(r)||ta(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ta(r,a){if(r){if(typeof r=="string")return Ke(r,a);var o=Object.prototype.toString.call(r).slice(8,-1);return o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set"?Array.from(r):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Ke(r,a):void 0}}function Ke(r,a){(a==null||a>r.length)&&(a=r.length);for(var o=0,e=new Array(a);o<a;o++)e[o]=r[o];return e}function Va(r){var a=function(o,e){if(typeof o!="object"||o===null)return o;var t=o[Symbol.toPrimitive];if(t!==void 0){var n=t.call(o,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(o)}(r,"string");return typeof a=="symbol"?a:String(a)}function aa(r){return r?"".concat("__pathRoot",".").concat(r).replace(/\./g,"_"):"__pathRoot"}function qa(r){return r===""}function je(r,a){return r===""?a:[r,a].join(".")}function Wr(r,a){for(var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,e=a.split("."),t=0;t<e.length-o;t+=1){if(r===void 0)return;r=e[t]===""?r:r[e[t]]}return r}function Ma(r,a){delete r[a]}function Ae(r,a,o){for(var e=a.split("."),t=0;t<e.length;t+=1){if(e.length-t<2){r[e[e.length-1]]=o;break}r=r[e[t]]}}function tr(r){return typeof r=="string"?Ca(r):r}var Sr=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.model,e=o===void 0?"value":o;return _e({inheritAttrs:!1,setup:function(t,n){var i=n.attrs,s=n.slots;return function(){var u,c=i.modelValue,l=i["onUpdate:modelValue"],h=yr(i,["modelValue","onUpdate:modelValue"]);return I(tr(r),F((Z(u={},e,c),Z(u,"onUpdate:".concat(e),l),u),h),s)}}})};function Q(r){return Object.prototype.toString.call(r)==="[object Object]"}function Ee(r){return Object.prototype.toString.call(r)==="[object Arguments]"}function De(r,a){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],e=Object.assign({},r);return Q(a)?Object.keys(a).reduce(function(t,n){var i=r?r[n]:{},s=a[n];return r&&r.hasOwnProperty(n)&&Q(s)?t[n]=De(i,s,o):o&&Array.isArray(i)&&Array.isArray(s)?t[n]=i.concat(s):t[n]=s,t},e):e}function ot(r){var a,o=r.type;return!o&&r.const?(a=r.const,Array.isArray(a)?"array":typeof a=="string"?"string":a==null?"null":typeof a=="boolean"?"boolean":isNaN(a)?ae(a)==="object"?"object":"string":"number"):!o&&r.enum?"string":!o&&r.items?"array":o||!r.properties&&!r.additionalProperties?o instanceof Array&&o.length===2&&o.includes("null")?o.find(function(e){return e!=="null"}):o:"object"}function oe(r,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(r===a||typeof r=="function"||typeof a=="function")return!0;if(ae(r)!=="object"||ae(a)!=="object"||r===null||a===null)return!1;if(r instanceof Date&&a instanceof Date)return r.getTime()===a.getTime();if(r instanceof RegExp&&a instanceof RegExp)return r.source===a.source&&r.global===a.global&&r.multiline===a.multiline&&r.lastIndex===a.lastIndex&&r.ignoreCase===a.ignoreCase;if(Ee(r)||Ee(a)){if(!Ee(r)||!Ee(a))return!1;var t=Array.prototype.slice;return oe(t.call(r),t.call(a),o,e)}if(r.constructor!==a.constructor)return!1;var n=Object.keys(r),i=Object.keys(a);if(n.length===0&&i.length===0)return!0;if(n.length!==i.length)return!1;for(var s,u=o.length;u--;)if(o[u]===r)return e[u]===a;o.push(r),e.push(a),n.sort(),i.sort();for(var c=n.length-1;c>=0;c--)if(n[c]!==i[c])return!1;for(var l=n.length-1;l>=0;l--)if(!oe(r[s=n[l]],a[s],o,e))return!1;return o.pop(),e.pop(),!0}var Ve,Se,de=(Ve="".concat(+new Date),Se=0,function(){var r="".concat(+new Date);return r===Ve?Se+=1:Se=0,"".concat(Ve=r,"x").concat(Se)});function Pt(r){if(!r)return!0;for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a))return!1;return!0}function wt(r,a){return Object.entries(r).reduce(function(o,e){var t=Ur(e,2),n=t[0],i=t[1],s=a(n,i);return s!==void 0&&(o[s]=i),o},{})}function ke(r){return r===void 0?r:String(r).replace(/^./,function(a){return a.toLocaleLowerCase()})}function Ua(r,a){return r*a/function o(e,t){return t===0?e:o(t,e%t)}(r,a)}function Wa(r,a){for(var o=a.split("/"),e=0;e<o.length;e+=1){if(r===void 0)return;r=o[e]===""?r:r[o[e]]}return r}function nt(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r;if(!r.startsWith("#"))throw new Error("Could not find a definition for ".concat(o,"."));var e=Wa(a,r=decodeURIComponent(r.substring(1)));if(e===void 0)throw new Error("Could not find a definition for ".concat(o,"."));return e.hasOwnProperty("$ref")?nt(e.$ref,a):e}function it(r,a){return r(a={exports:{}},a.exports),a.exports}function oa(r){return r&&r.default||r}var Fe,se=it(function(r,a){/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(o){function e(){for(var p=arguments.length,v=Array(p),b=0;b<p;b++)v[b]=arguments[b];if(v.length>1){v[0]=v[0].slice(0,-1);for(var _=v.length-1,S=1;S<_;++S)v[S]=v[S].slice(1,-1);return v[_]=v[_].slice(1),v.join("")}return v[0]}function t(p){return"(?:"+p+")"}function n(p){return p===void 0?"undefined":p===null?"null":Object.prototype.toString.call(p).split(" ").pop().split("]").shift().toLowerCase()}function i(p){return p.toUpperCase()}function s(p){var v=e("[0-9]","[A-Fa-f]"),b=t(t("%[EFef]"+v+"%"+v+v+"%"+v+v)+"|"+t("%[89A-Fa-f]"+v+"%"+v+v)+"|"+t("%"+v+v)),_="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",S=e("[\\:\\/\\?\\#\\[\\]\\@]",_),L=p?"[\\uE000-\\uF8FF]":"[]",T=e("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",p?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");t("[A-Za-z]"+e("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),t(t(b+"|"+e(T,_,"[\\:]"))+"*");var U=t(t("25[0-5]")+"|"+t("2[0-4][0-9]")+"|"+t("1[0-9][0-9]")+"|"+t("0?[1-9][0-9]")+"|0?0?[0-9]"),K=t(U+"\\."+U+"\\."+U+"\\."+U),z=t(v+"{1,4}"),rr=t(t(z+"\\:"+z)+"|"+K),ar=t(t(z+"\\:")+"{6}"+rr),lr=t("\\:\\:"+t(z+"\\:")+"{5}"+rr),G=t(t(z)+"?\\:\\:"+t(z+"\\:")+"{4}"+rr),fr=t(t(t(z+"\\:")+"{0,1}"+z)+"?\\:\\:"+t(z+"\\:")+"{3}"+rr),or=t(t(t(z+"\\:")+"{0,2}"+z)+"?\\:\\:"+t(z+"\\:")+"{2}"+rr),pr=t(t(t(z+"\\:")+"{0,3}"+z)+"?\\:\\:"+z+"\\:"+rr),Dr=t(t(t(z+"\\:")+"{0,4}"+z)+"?\\:\\:"+rr),$r=t(t(t(z+"\\:")+"{0,5}"+z)+"?\\:\\:"+z),Hr=t(t(t(z+"\\:")+"{0,6}"+z)+"?\\:\\:"),Kr=t([ar,lr,G,fr,or,pr,Dr,$r,Hr].join("|")),Er=t(t(T+"|"+b)+"+");t("[vV]"+v+"+\\."+e(T,_,"[\\:]")+"+"),t(t(b+"|"+e(T,_))+"*");var kr=t(b+"|"+e(T,_,"[\\:\\@]"));return t(t(b+"|"+e(T,_,"[\\@]"))+"+"),t(t(kr+"|"+e("[\\/\\?]",L))+"*"),{NOT_SCHEME:new RegExp(e("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",T,_),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",T,_),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",T,_),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",T,_),"g"),NOT_QUERY:new RegExp(e("[^\\%]",T,_,"[\\:\\@\\/\\?]",L),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",T,_,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",T,_),"g"),UNRESERVED:new RegExp(T,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",T,S),"g"),PCT_ENCODED:new RegExp(b,"g"),IPV4ADDRESS:new RegExp("^("+K+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Kr+")"+t(t("\\%25|\\%(?!"+v+"{2})")+"("+Er+")")+"?\\]?$")}}var u=s(!1),c=s(!0),l=function(p,v){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return function(b,_){var S=[],L=!0,T=!1,U=void 0;try{for(var K,z=b[Symbol.iterator]();!(L=(K=z.next()).done)&&(S.push(K.value),!_||S.length!==_);L=!0);}catch(rr){T=!0,U=rr}finally{try{!L&&z.return&&z.return()}finally{if(T)throw U}}return S}(p,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")},h=2147483647,d=/^xn--/,m=/[^\0-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,P=String.fromCharCode;function w(p){throw new RangeError(f[p])}function E(p,v){var b=p.split("@"),_="";b.length>1&&(_=b[0]+"@",p=b[1]);var S=function(L,T){for(var U=[],K=L.length;K--;)U[K]=T(L[K]);return U}((p=p.replace(g,".")).split("."),v).join(".");return _+S}function k(p){for(var v=[],b=0,_=p.length;b<_;){var S=p.charCodeAt(b++);if(S>=55296&&S<=56319&&b<_){var L=p.charCodeAt(b++);(64512&L)==56320?v.push(((1023&S)<<10)+(1023&L)+65536):(v.push(S),b--)}else v.push(S)}return v}var j=function(p,v){return p+22+75*(p<26)-((v!=0)<<5)},x=function(p,v,b){var _=0;for(p=b?y(p/700):p>>1,p+=y(p/v);p>455;_+=36)p=y(p/35);return y(_+36*p/(p+38))},A=function(p){var v,b=[],_=p.length,S=0,L=128,T=72,U=p.lastIndexOf("-");U<0&&(U=0);for(var K=0;K<U;++K)p.charCodeAt(K)>=128&&w("not-basic"),b.push(p.charCodeAt(K));for(var z=U>0?U+1:0;z<_;){for(var rr=S,ar=1,lr=36;;lr+=36){z>=_&&w("invalid-input");var G=(v=p.charCodeAt(z++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:36;(G>=36||G>y((h-S)/ar))&&w("overflow"),S+=G*ar;var fr=lr<=T?1:lr>=T+26?26:lr-T;if(G<fr)break;var or=36-fr;ar>y(h/or)&&w("overflow"),ar*=or}var pr=b.length+1;T=x(S-rr,pr,rr==0),y(S/pr)>h-L&&w("overflow"),L+=y(S/pr),S%=pr,b.splice(S++,0,L)}return String.fromCodePoint.apply(String,b)},R=function(p){var v=[],b=(p=k(p)).length,_=128,S=0,L=72,T=!0,U=!1,K=void 0;try{for(var z,rr=p[Symbol.iterator]();!(T=(z=rr.next()).done);T=!0){var ar=z.value;ar<128&&v.push(P(ar))}}catch(me){U=!0,K=me}finally{try{!T&&rr.return&&rr.return()}finally{if(U)throw K}}var lr=v.length,G=lr;for(lr&&v.push("-");G<b;){var fr=h,or=!0,pr=!1,Dr=void 0;try{for(var $r,Hr=p[Symbol.iterator]();!(or=($r=Hr.next()).done);or=!0){var Kr=$r.value;Kr>=_&&Kr<fr&&(fr=Kr)}}catch(me){pr=!0,Dr=me}finally{try{!or&&Hr.return&&Hr.return()}finally{if(pr)throw Dr}}var Er=G+1;fr-_>y((h-S)/Er)&&w("overflow"),S+=(fr-_)*Er,_=fr;var kr=!0,ce=!1,Gr=void 0;try{for(var pt,ze=p[Symbol.iterator]();!(kr=(pt=ze.next()).done);kr=!0){var ft=pt.value;if(ft<_&&++S>h&&w("overflow"),ft==_){for(var be=S,Pe=36;;Pe+=36){var we=Pe<=L?1:Pe>=L+26?26:Pe-L;if(be<we)break;var ht=be-we,vt=36-we;v.push(P(j(we+ht%vt,0))),be=y(ht/vt)}v.push(P(j(be,0))),L=x(S,Er,G==lr),S=0,++G}}}catch(me){ce=!0,Gr=me}finally{try{!kr&&ze.return&&ze.return()}finally{if(ce)throw Gr}}++S,++_}return v.join("")},N=function(p){return E(p,function(v){return m.test(v)?"xn--"+R(v):v})},C=function(p){return E(p,function(v){return d.test(v)?A(v.slice(4).toLowerCase()):v})},O={};function D(p){var v=p.charCodeAt(0);return v<16?"%0"+v.toString(16).toUpperCase():v<128?"%"+v.toString(16).toUpperCase():v<2048?"%"+(v>>6|192).toString(16).toUpperCase()+"%"+(63&v|128).toString(16).toUpperCase():"%"+(v>>12|224).toString(16).toUpperCase()+"%"+(v>>6&63|128).toString(16).toUpperCase()+"%"+(63&v|128).toString(16).toUpperCase()}function $(p){for(var v="",b=0,_=p.length;b<_;){var S=parseInt(p.substr(b+1,2),16);if(S<128)v+=String.fromCharCode(S),b+=3;else if(S>=194&&S<224){if(_-b>=6){var L=parseInt(p.substr(b+4,2),16);v+=String.fromCharCode((31&S)<<6|63&L)}else v+=p.substr(b,6);b+=6}else if(S>=224){if(_-b>=9){var T=parseInt(p.substr(b+4,2),16),U=parseInt(p.substr(b+7,2),16);v+=String.fromCharCode((15&S)<<12|(63&T)<<6|63&U)}else v+=p.substr(b,9);b+=9}else v+=p.substr(b,3),b+=3}return v}function V(p,v){function b(_){var S=$(_);return S.match(v.UNRESERVED)?S:_}return p.scheme&&(p.scheme=String(p.scheme).replace(v.PCT_ENCODED,b).toLowerCase().replace(v.NOT_SCHEME,"")),p.userinfo!==void 0&&(p.userinfo=String(p.userinfo).replace(v.PCT_ENCODED,b).replace(v.NOT_USERINFO,D).replace(v.PCT_ENCODED,i)),p.host!==void 0&&(p.host=String(p.host).replace(v.PCT_ENCODED,b).toLowerCase().replace(v.NOT_HOST,D).replace(v.PCT_ENCODED,i)),p.path!==void 0&&(p.path=String(p.path).replace(v.PCT_ENCODED,b).replace(p.scheme?v.NOT_PATH:v.NOT_PATH_NOSCHEME,D).replace(v.PCT_ENCODED,i)),p.query!==void 0&&(p.query=String(p.query).replace(v.PCT_ENCODED,b).replace(v.NOT_QUERY,D).replace(v.PCT_ENCODED,i)),p.fragment!==void 0&&(p.fragment=String(p.fragment).replace(v.PCT_ENCODED,b).replace(v.NOT_FRAGMENT,D).replace(v.PCT_ENCODED,i)),p}function q(p){return p.replace(/^0*(.*)/,"$1")||"0"}function W(p,v){var b=p.match(v.IPV4ADDRESS)||[],_=l(b,2)[1];return _?_.split(".").map(q).join("."):p}function J(p,v){var b=p.match(v.IPV6ADDRESS)||[],_=l(b,3),S=_[1],L=_[2];if(S){for(var T=S.toLowerCase().split("::").reverse(),U=l(T,2),K=U[0],z=U[1],rr=z?z.split(":").map(q):[],ar=K.split(":").map(q),lr=v.IPV4ADDRESS.test(ar[ar.length-1]),G=lr?7:8,fr=ar.length-G,or=Array(G),pr=0;pr<G;++pr)or[pr]=rr[pr]||ar[fr+pr]||"";lr&&(or[G-1]=W(or[G-1],v));var Dr=or.reduce(function(Er,kr,ce){if(!kr||kr==="0"){var Gr=Er[Er.length-1];Gr&&Gr.index+Gr.length===ce?Gr.length++:Er.push({index:ce,length:1})}return Er},[]).sort(function(Er,kr){return kr.length-Er.length})[0],$r=void 0;if(Dr&&Dr.length>1){var Hr=or.slice(0,Dr.index),Kr=or.slice(Dr.index+Dr.length);$r=Hr.join(":")+"::"+Kr.join(":")}else $r=or.join(":");return L&&($r+="%"+L),$r}return p}var M=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,X="".match(/(){0}/)[1]===void 0;function B(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b={},_=v.iri!==!1?c:u;v.reference==="suffix"&&(p=(v.scheme?v.scheme+":":"")+"//"+p);var S=p.match(M);if(S){X?(b.scheme=S[1],b.userinfo=S[3],b.host=S[4],b.port=parseInt(S[5],10),b.path=S[6]||"",b.query=S[7],b.fragment=S[8],isNaN(b.port)&&(b.port=S[5])):(b.scheme=S[1]||void 0,b.userinfo=p.indexOf("@")!==-1?S[3]:void 0,b.host=p.indexOf("//")!==-1?S[4]:void 0,b.port=parseInt(S[5],10),b.path=S[6]||"",b.query=p.indexOf("?")!==-1?S[7]:void 0,b.fragment=p.indexOf("#")!==-1?S[8]:void 0,isNaN(b.port)&&(b.port=p.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?S[4]:void 0)),b.host&&(b.host=J(W(b.host,_),_)),b.scheme!==void 0||b.userinfo!==void 0||b.host!==void 0||b.port!==void 0||b.path||b.query!==void 0?b.scheme===void 0?b.reference="relative":b.fragment===void 0?b.reference="absolute":b.reference="uri":b.reference="same-document",v.reference&&v.reference!=="suffix"&&v.reference!==b.reference&&(b.error=b.error||"URI is not a "+v.reference+" reference.");var L=O[(v.scheme||b.scheme||"").toLowerCase()];if(v.unicodeSupport||L&&L.unicodeSupport)V(b,_);else{if(b.host&&(v.domainHost||L&&L.domainHost))try{b.host=N(b.host.replace(_.PCT_ENCODED,$).toLowerCase())}catch(T){b.error=b.error||"Host's domain name can not be converted to ASCII via punycode: "+T}V(b,u)}L&&L.parse&&L.parse(b,v)}else b.error=b.error||"URI can not be parsed.";return b}function ur(p,v){var b=v.iri!==!1?c:u,_=[];return p.userinfo!==void 0&&(_.push(p.userinfo),_.push("@")),p.host!==void 0&&_.push(J(W(String(p.host),b),b).replace(b.IPV6ADDRESS,function(S,L,T){return"["+L+(T?"%25"+T:"")+"]"})),typeof p.port!="number"&&typeof p.port!="string"||(_.push(":"),_.push(String(p.port))),_.length?_.join(""):void 0}var cr=/^\.\.?\//,jr=/^\/\.(\/|$)/,Ar=/^\/\.\.(\/|$)/,hr=/^\/?(?:.|\n)*?(?=\/|$)/;function vr(p){for(var v=[];p.length;)if(p.match(cr))p=p.replace(cr,"");else if(p.match(jr))p=p.replace(jr,"/");else if(p.match(Ar))p=p.replace(Ar,"/"),v.pop();else if(p==="."||p==="..")p="";else{var b=p.match(hr);if(!b)throw new Error("Unexpected dot segment condition");var _=b[0];p=p.slice(_.length),v.push(_)}return v.join("")}function er(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=v.iri?c:u,_=[],S=O[(v.scheme||p.scheme||"").toLowerCase()];if(S&&S.serialize&&S.serialize(p,v),p.host&&!b.IPV6ADDRESS.test(p.host)){if(v.domainHost||S&&S.domainHost)try{p.host=v.iri?C(p.host):N(p.host.replace(b.PCT_ENCODED,$).toLowerCase())}catch(U){p.error=p.error||"Host's domain name can not be converted to "+(v.iri?"Unicode":"ASCII")+" via punycode: "+U}}V(p,b),v.reference!=="suffix"&&p.scheme&&(_.push(p.scheme),_.push(":"));var L=ur(p,v);if(L!==void 0&&(v.reference!=="suffix"&&_.push("//"),_.push(L),p.path&&p.path.charAt(0)!=="/"&&_.push("/")),p.path!==void 0){var T=p.path;v.absolutePath||S&&S.absolutePath||(T=vr(T)),L===void 0&&(T=T.replace(/^\/\//,"/%2F")),_.push(T)}return p.query!==void 0&&(_.push("?"),_.push(p.query)),p.fragment!==void 0&&(_.push("#"),_.push(p.fragment)),_.join("")}function re(p,v){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=arguments[3],S={};return _||(p=B(er(p,b),b),v=B(er(v,b),b)),!(b=b||{}).tolerant&&v.scheme?(S.scheme=v.scheme,S.userinfo=v.userinfo,S.host=v.host,S.port=v.port,S.path=vr(v.path||""),S.query=v.query):(v.userinfo!==void 0||v.host!==void 0||v.port!==void 0?(S.userinfo=v.userinfo,S.host=v.host,S.port=v.port,S.path=vr(v.path||""),S.query=v.query):(v.path?(v.path.charAt(0)==="/"?S.path=vr(v.path):(p.userinfo===void 0&&p.host===void 0&&p.port===void 0||p.path?p.path?S.path=p.path.slice(0,p.path.lastIndexOf("/")+1)+v.path:S.path=v.path:S.path="/"+v.path,S.path=vr(S.path)),S.query=v.query):(S.path=p.path,v.query!==void 0?S.query=v.query:S.query=p.query),S.userinfo=p.userinfo,S.host=p.host,S.port=p.port),S.scheme=p.scheme),S.fragment=v.fragment,S}function Y(p,v){return p&&p.toString().replace(v&&v.iri?c.PCT_ENCODED:u.PCT_ENCODED,$)}var H={scheme:"http",domainHost:!0,parse:function(p,v){return p.host||(p.error=p.error||"HTTP URIs must have a host."),p},serialize:function(p,v){var b=String(p.scheme).toLowerCase()==="https";return p.port!==(b?443:80)&&p.port!==""||(p.port=void 0),p.path||(p.path="/"),p}},Qr={scheme:"https",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize};function Rr(p){return typeof p.secure=="boolean"?p.secure:String(p.scheme).toLowerCase()==="wss"}var nr={scheme:"ws",domainHost:!0,parse:function(p,v){var b=p;return b.secure=Rr(b),b.resourceName=(b.path||"/")+(b.query?"?"+b.query:""),b.path=void 0,b.query=void 0,b},serialize:function(p,v){if(p.port!==(Rr(p)?443:80)&&p.port!==""||(p.port=void 0),typeof p.secure=="boolean"&&(p.scheme=p.secure?"wss":"ws",p.secure=void 0),p.resourceName){var b=p.resourceName.split("?"),_=l(b,2),S=_[0],L=_[1];p.path=S&&S!=="/"?S:void 0,p.query=L,p.resourceName=void 0}return p.fragment=void 0,p}},mr={scheme:"wss",domainHost:nr.domainHost,parse:nr.parse,serialize:nr.serialize},ee={},dr="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",sr="[0-9A-Fa-f]",Nr=t(t("%[EFef]"+sr+"%"+sr+sr+"%"+sr+sr)+"|"+t("%[89A-Fa-f]"+sr+"%"+sr+sr)+"|"+t("%"+sr+sr)),br=e("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),wr=new RegExp(dr,"g"),Ir=new RegExp(Nr,"g"),le=new RegExp(e("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',br),"g"),Cr=new RegExp(e("[^]",dr,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ge=Cr;function ue(p){var v=$(p);return v.match(wr)?v:p}var ye={scheme:"mailto",parse:function(p,v){var b=p,_=b.to=b.path?b.path.split(","):[];if(b.path=void 0,b.query){for(var S=!1,L={},T=b.query.split("&"),U=0,K=T.length;U<K;++U){var z=T[U].split("=");switch(z[0]){case"to":for(var rr=z[1].split(","),ar=0,lr=rr.length;ar<lr;++ar)_.push(rr[ar]);break;case"subject":b.subject=Y(z[1],v);break;case"body":b.body=Y(z[1],v);break;default:S=!0,L[Y(z[0],v)]=Y(z[1],v)}}S&&(b.headers=L)}b.query=void 0;for(var G=0,fr=_.length;G<fr;++G){var or=_[G].split("@");if(or[0]=Y(or[0]),v.unicodeSupport)or[1]=Y(or[1],v).toLowerCase();else try{or[1]=N(Y(or[1],v).toLowerCase())}catch(pr){b.error=b.error||"Email address's domain name can not be converted to ASCII via punycode: "+pr}_[G]=or.join("@")}return b},serialize:function(p,v){var b,_=p,S=(b=p.to)!=null?b instanceof Array?b:typeof b.length!="number"||b.split||b.setInterval||b.call?[b]:Array.prototype.slice.call(b):[];if(S){for(var L=0,T=S.length;L<T;++L){var U=String(S[L]),K=U.lastIndexOf("@"),z=U.slice(0,K).replace(Ir,ue).replace(Ir,i).replace(le,D),rr=U.slice(K+1);try{rr=v.iri?C(rr):N(Y(rr,v).toLowerCase())}catch(fr){_.error=_.error||"Email address's domain name can not be converted to "+(v.iri?"Unicode":"ASCII")+" via punycode: "+fr}S[L]=z+"@"+rr}_.path=S.join(",")}var ar=p.headers=p.headers||{};p.subject&&(ar.subject=p.subject),p.body&&(ar.body=p.body);var lr=[];for(var G in ar)ar[G]!==ee[G]&&lr.push(G.replace(Ir,ue).replace(Ir,i).replace(Cr,D)+"="+ar[G].replace(Ir,ue).replace(Ir,i).replace(ge,D));return lr.length&&(_.query=lr.join("&")),_}},Aa=/^([^\:]+)\:(.*)/,mt={scheme:"urn",parse:function(p,v){var b=p.path&&p.path.match(Aa),_=p;if(b){var S=v.scheme||_.scheme||"urn",L=b[1].toLowerCase(),T=b[2],U=S+":"+(v.nid||L),K=O[U];_.nid=L,_.nss=T,_.path=void 0,K&&(_=K.parse(_,v))}else _.error=_.error||"URN can not be parsed.";return _},serialize:function(p,v){var b=v.scheme||p.scheme||"urn",_=p.nid,S=b+":"+(v.nid||_),L=O[S];L&&(p=L.serialize(p,v));var T=p,U=p.nss;return T.path=(_||v.nid)+":"+U,T}},Ia=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,dt={scheme:"urn:uuid",parse:function(p,v){var b=p;return b.uuid=b.nss,b.nss=void 0,v.tolerant||b.uuid&&b.uuid.match(Ia)||(b.error=b.error||"UUID is not valid."),b},serialize:function(p,v){var b=p;return b.nss=(p.uuid||"").toLowerCase(),b}};O[H.scheme]=H,O[Qr.scheme]=Qr,O[nr.scheme]=nr,O[mr.scheme]=mr,O[ye.scheme]=ye,O[mt.scheme]=mt,O[dt.scheme]=dt,o.SCHEMES=O,o.pctEncChar=D,o.pctDecChars=$,o.parse=B,o.removeDotSegments=vr,o.serialize=er,o.resolveComponents=re,o.resolve=function(p,v,b){var _=function(S,L){var T=S;if(L)for(var U in L)T[U]=L[U];return T}({scheme:"null"},b);return er(re(B(p,_),B(v,_),_,!0),_)},o.normalize=function(p,v){return typeof p=="string"?p=er(B(p,v),v):n(p)==="object"&&(p=B(er(p,v),v)),p},o.equal=function(p,v,b){return typeof p=="string"?p=er(B(p,b),b):n(p)==="object"&&(p=er(p,b)),typeof v=="string"?v=er(B(v,b),b):n(v)==="object"&&(v=er(v,b)),p===v},o.escapeComponent=function(p,v){return p&&p.toString().replace(v&&v.iri?c.ESCAPE:u.ESCAPE,D)},o.unescapeComponent=Y,Object.defineProperty(o,"__esModule",{value:!0})})(a)});(Fe=se)&&Fe.__esModule&&Object.prototype.hasOwnProperty.call(Fe,"default")&&Fe.default;var Ie=function r(a,o){if(a===o)return!0;if(a&&o&&typeof a=="object"&&typeof o=="object"){if(a.constructor!==o.constructor)return!1;var e,t,n;if(Array.isArray(a)){if((e=a.length)!=o.length)return!1;for(t=e;t--!=0;)if(!r(a[t],o[t]))return!1;return!0}if(a.constructor===RegExp)return a.source===o.source&&a.flags===o.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===o.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===o.toString();if((e=(n=Object.keys(a)).length)!==Object.keys(o).length)return!1;for(t=e;t--!=0;)if(!Object.prototype.hasOwnProperty.call(o,n[t]))return!1;for(t=e;t--!=0;){var i=n[t];if(!r(a[i],o[i]))return!1}return!0}return a!=a&&o!=o},Pr={copy:function(r,a){for(var o in a=a||{},r)a[o]=r[o];return a},checkDataType:qe,checkDataTypes:function(r,a,o){switch(r.length){case 1:return qe(r[0],a,o,!0);default:var e="",t=Ge(r);for(var n in t.array&&t.object&&(e=t.null?"(":"(!"+a+" || ",e+="typeof "+a+' !== "object")',delete t.null,delete t.array,delete t.object),t.number&&delete t.integer,t)e+=(e?" && ":"")+qe(n,a,o,!0);return e}},coerceToTypes:function(r,a){if(Array.isArray(a)){for(var o=[],e=0;e<a.length;e++){var t=a[e];(Et[t]||r==="array"&&t==="array")&&(o[o.length]=t)}if(o.length)return o}else{if(Et[a])return[a];if(r==="array"&&a==="array")return["array"]}},toHash:Ge,getProperty:Me,escapeQuotes:st,equal:Ie,ucs2length:function(r){for(var a,o=0,e=r.length,t=0;t<e;)o++,(a=r.charCodeAt(t++))>=55296&&a<=56319&&t<e&&(64512&(a=r.charCodeAt(t)))==56320&&t++;return o},varOccurences:function(r,a){a+="[^0-9]";var o=r.match(new RegExp(a,"g"));return o?o.length:0},varReplace:function(r,a,o){return a+="([^0-9])",o=o.replace(/\$/g,"$$$$"),r.replace(new RegExp(a,"g"),o+"$1")},schemaHasRules:function(r,a){if(typeof r=="boolean")return!r;for(var o in r)if(a[o])return!0},schemaHasRulesExcept:function(r,a,o){if(typeof r=="boolean")return!r&&o!="not";for(var e in r)if(e!=o&&a[e])return!0},schemaUnknownRules:function(r,a){if(typeof r!="boolean"){for(var o in r)if(!a[o])return o}},toQuotedString:St,getPathExpr:function(r,a,o,e){return Ft(r,o?"'/' + "+a+(e?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):e?"'[' + "+a+" + ']'":"'[\\'' + "+a+" + '\\']'")},getPath:function(r,a,o){var e=St(o?"/"+Ue(a):Me(a));return Ft(r,e)},getData:function(r,a,o){var e,t,n,i;if(r==="")return"rootData";if(r[0]=="/"){if(!Ha.test(r))throw new Error("Invalid JSON-pointer: "+r);t=r,n="rootData"}else{if(!(i=r.match(Ka)))throw new Error("Invalid JSON-pointer: "+r);if(e=+i[1],(t=i[2])=="#"){if(e>=a)throw new Error("Cannot access property/index "+e+" levels up, current level is "+a);return o[a-e]}if(e>a)throw new Error("Cannot access data "+e+" levels up, current level is "+a);if(n="data"+(a-e||""),!t)return n}for(var s=n,u=t.split("/"),c=0;c<u.length;c++){var l=u[c];l&&(n+=Me(We(l)),s+=" && "+n)}return s},unescapeFragment:function(r){return We(decodeURIComponent(r))},unescapeJsonPointer:We,escapeFragment:function(r){return encodeURIComponent(Ue(r))},escapeJsonPointer:Ue};function qe(r,a,o,e){var t=e?" !== ":" === ",n=e?" || ":" && ",i=e?"!":"",s=e?"":"!";switch(r){case"null":return a+t+"null";case"array":return i+"Array.isArray("+a+")";case"object":return"("+i+a+n+"typeof "+a+t+'"object"'+n+s+"Array.isArray("+a+"))";case"integer":return"(typeof "+a+t+'"number"'+n+s+"("+a+" % 1)"+n+a+t+a+(o?n+i+"isFinite("+a+")":"")+")";case"number":return"(typeof "+a+t+'"'+r+'"'+(o?n+i+"isFinite("+a+")":"")+")";default:return"typeof "+a+t+'"'+r+'"'}}var Et=Ge(["string","number","integer","boolean","null"]);function Ge(r){for(var a={},o=0;o<r.length;o++)a[r[o]]=!0;return a}var Ba=/^[a-z$_][a-z$_0-9]*$/i,Qa=/'|\\/g;function Me(r){return typeof r=="number"?"["+r+"]":Ba.test(r)?"."+r:"['"+st(r)+"']"}function st(r){return r.replace(Qa,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function St(r){return"'"+st(r)+"'"}var Ha=/^\/(?:[^~]|~0|~1)*$/,Ka=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ft(r,a){return r=='""'?a:(r+" + "+a).replace(/([^\\])' \+ '/g,"$1")}function Ue(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}function We(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}var ne=function(r){Pr.copy(r,this)},Ga=it(function(r){var a=r.exports=function(o,e,t){typeof e=="function"&&(t=e,e={}),function n(i,s,u,c,l,h,d,m,g,f){if(c&&typeof c=="object"&&!Array.isArray(c)){for(var y in s(c,l,h,d,m,g,f),c){var P=c[y];if(Array.isArray(P)){if(y in a.arrayKeywords)for(var w=0;w<P.length;w++)n(i,s,u,P[w],l+"/"+y+"/"+w,h,l,y,c,w)}else if(y in a.propsKeywords){if(P&&typeof P=="object")for(var E in P)n(i,s,u,P[E],l+"/"+y+"/"+E.replace(/~/g,"~0").replace(/\//g,"~1"),h,l,y,c,E)}else(y in a.keywords||i.allKeys&&!(y in a.skipKeywords))&&n(i,s,u,P,l+"/"+y,h,l,y,c)}u(c,l,h,d,m,g,f)}}(e,typeof(t=e.cb||t)=="function"?t:t.pre||function(){},t.post||function(){},o,"",o)};a.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},a.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},a.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},a.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}}),gr=Tr;function Tr(r,a,o){var e=this._refs[o];if(typeof e=="string"){if(!this._refs[e])return Tr.call(this,r,a,e);e=this._refs[e]}if((e=e||this._schemas[o])instanceof ne)return Ze(e.schema,this._opts.inlineRefs)?e.schema:e.validate||this._compile(e);var t,n,i,s=Te.call(this,a,o);return s&&(t=s.schema,a=s.root,i=s.baseId),t instanceof ne?n=t.validate||r.call(this,t.schema,a,void 0,i):t!==void 0&&(n=Ze(t,this._opts.inlineRefs)?t:r.call(this,t,a,void 0,i)),n}function Te(r,a){var o=se.parse(a),e=ia(o),t=Ce(this._getId(r.schema));if(Object.keys(r.schema).length===0||e!==t){var n=zr(e),i=this._refs[n];if(typeof i=="string")return Za.call(this,r,i,o);if(i instanceof ne)i.validate||this._compile(i),r=i;else{if(!((i=this._schemas[n])instanceof ne))return;if(i.validate||this._compile(i),n==zr(a))return{schema:i,root:r,baseId:t};r=i}if(!r.schema)return;t=Ce(this._getId(r.schema))}return na.call(this,o,t,r.schema,r)}function Za(r,a,o){var e=Te.call(this,r,a);if(e){var t=e.schema,n=e.baseId;r=e.root;var i=this._getId(t);return i&&(n=$e(n,i)),na.call(this,o,n,t,r)}}Tr.normalizeId=zr,Tr.fullPath=Ce,Tr.url=$e,Tr.ids=function(r){var a=zr(this._getId(r)),o={"":a},e={"":Ce(a,!1)},t={},n=this;return Ga(r,{allKeys:!0},function(i,s,u,c,l,h,d){if(s!==""){var m=n._getId(i),g=o[c],f=e[c]+"/"+l;if(d!==void 0&&(f+="/"+(typeof d=="number"?d:Pr.escapeFragment(d))),typeof m=="string"){m=g=zr(g?se.resolve(g,m):m);var y=n._refs[m];if(typeof y=="string"&&(y=n._refs[y]),y&&y.schema){if(!Ie(i,y.schema))throw new Error('id "'+m+'" resolves to more than one schema')}else if(m!=zr(f))if(m[0]=="#"){if(t[m]&&!Ie(i,t[m]))throw new Error('id "'+m+'" resolves to more than one schema');t[m]=i}else n._refs[m]=f}o[s]=g,e[s]=f}}),t},Tr.inlineRef=Ze,Tr.schema=Te;var Ja=Pr.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function na(r,a,o,e){if(r.fragment=r.fragment||"",r.fragment.slice(0,1)=="/"){for(var t=r.fragment.split("/"),n=1;n<t.length;n++){var i=t[n];if(i){if((o=o[i=Pr.unescapeFragment(i)])===void 0)break;var s;if(!Ja[i]&&((s=this._getId(o))&&(a=$e(a,s)),o.$ref)){var u=$e(a,o.$ref),c=Te.call(this,e,u);c&&(o=c.schema,e=c.root,a=c.baseId)}}}return o!==void 0&&o!==e.schema?{schema:o,root:e,baseId:a}:void 0}}var Xa=Pr.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Ze(r,a){return a!==!1&&(a===void 0||a===!0?function o(e){var t;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(typeof(t=e[n])=="object"&&!o(t))return!1}else for(var i in e)if(i=="$ref"||typeof(t=e[i])=="object"&&!o(t))return!1;return!0}(r):a?function o(e){var t,n=0;if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(typeof(t=e[i])=="object"&&(n+=o(t)),n==1/0)return 1/0}else for(var s in e){if(s=="$ref")return 1/0;if(Xa[s])n++;else if(typeof(t=e[s])=="object"&&(n+=o(t)+1),n==1/0)return 1/0}return n}(r)<=a:void 0)}function Ce(r,a){return a!==!1&&(r=zr(r)),ia(se.parse(r))}function ia(r){return se.serialize(r).split("#")[0]+"#"}var Ya=/#\/?$/;function zr(r){return r?r.replace(Ya,""):""}function $e(r,a){return a=zr(a),se.resolve(r,a)}var pe={Validation:xt(function(r){this.message="validation failed",this.errors=r,this.ajv=this.validation=!0}),MissingRef:xt(lt)};function lt(r,a,o){this.message=o||lt.message(r,a),this.missingRef=gr.url(r,a),this.missingSchema=gr.normalizeId(gr.fullPath(this.missingRef))}function xt(r){return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}lt.message=function(r,a){return"can't resolve reference "+a+" from id "+r};var sa=function(r,a){a||(a={}),typeof a=="function"&&(a={cmp:a});var o,e=typeof a.cycles=="boolean"&&a.cycles,t=a.cmp&&(o=a.cmp,function(i){return function(s,u){var c={key:s,value:i[s]},l={key:u,value:i[u]};return o(c,l)}}),n=[];return function i(s){if(s&&s.toJSON&&typeof s.toJSON=="function"&&(s=s.toJSON()),s!==void 0){if(typeof s=="number")return isFinite(s)?""+s:"null";if(typeof s!="object")return JSON.stringify(s);var u,c;if(Array.isArray(s)){for(c="[",u=0;u<s.length;u++)u&&(c+=","),c+=i(s[u])||"null";return c+"]"}if(s===null)return"null";if(n.indexOf(s)!==-1){if(e)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var l=n.push(s)-1,h=Object.keys(s).sort(t&&t(s));for(c="",u=0;u<h.length;u++){var d=h[u],m=i(s[d]);m&&(c&&(c+=","),c+=JSON.stringify(d)+":"+m)}return n.splice(l,1),"{"+c+"}"}}(r)},Je=function(r,a,o){var e="",t=r.schema.$async===!0,n=r.util.schemaHasRulesExcept(r.schema,r.RULES.all,"$ref"),i=r.self._getId(r.schema);if(r.opts.strictKeywords){var s=r.util.schemaUnknownRules(r.schema,r.RULES.keywords);if(s){var u="unknown keyword: "+s;if(r.opts.strictKeywords!=="log")throw new Error(u);r.logger.warn(u)}}if(r.isTop&&(e+=" var validate = ",t&&(r.async=!0,e+="async "),e+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",i&&(r.opts.sourceCode||r.opts.processCode)&&(e+=" /*# sourceURL="+i+" */ ")),typeof r.schema=="boolean"||!n&&!r.schema.$ref){var c=r.level,l=r.dataLevel,h=r.schema["false schema"],d=r.schemaPath+r.util.getProperty("false schema"),m=r.errSchemaPath+"/false schema",g=!r.opts.allErrors,f="data"+(l||""),y="valid"+c;if(r.schema===!1){r.isTop?g=!0:e+=" var "+y+" = false; ",(mr=mr||[]).push(e),e="",r.createErrors!==!1?(e+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(m)+" , params: {} ",r.opts.messages!==!1&&(e+=" , message: 'boolean schema is false' "),r.opts.verbose&&(e+=" , schema: false , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),e+=" } "):e+=" {} ";var P=e;e=mr.pop(),!r.compositeRule&&g?r.async?e+=" throw new ValidationError(["+P+"]); ":e+=" validate.errors = ["+P+"]; return false; ":e+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else r.isTop?e+=t?" return data; ":" validate.errors = null; return true; ":e+=" var "+y+" = true; ";return r.isTop&&(e+=" }; return validate; "),e}if(r.isTop){var w=r.isTop;if(c=r.level=0,l=r.dataLevel=0,f="data",r.rootId=r.resolve.fullPath(r.self._getId(r.root.schema)),r.baseId=r.baseId||r.rootId,delete r.isTop,r.dataPathArr=[""],r.schema.default!==void 0&&r.opts.useDefaults&&r.opts.strictDefaults){var E="default is ignored in the schema root";if(r.opts.strictDefaults!=="log")throw new Error(E);r.logger.warn(E)}e+=" var vErrors = null; ",e+=" var errors = 0;     ",e+=" if (rootData === undefined) rootData = data; "}else{if(c=r.level,f="data"+((l=r.dataLevel)||""),i&&(r.baseId=r.resolve.url(r.baseId,i)),t&&!r.async)throw new Error("async schema in sync schema");e+=" var errs_"+c+" = errors;"}y="valid"+c,g=!r.opts.allErrors;var k="",j="",x=r.schema.type,A=Array.isArray(x);if(x&&r.opts.nullable&&r.schema.nullable===!0&&(A?x.indexOf("null")==-1&&(x=x.concat("null")):x!="null"&&(x=[x,"null"],A=!0)),A&&x.length==1&&(x=x[0],A=!1),r.schema.$ref&&n){if(r.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+r.errSchemaPath+'" (see option extendRefs)');r.opts.extendRefs!==!0&&(n=!1,r.logger.warn('$ref: keywords ignored in schema at path "'+r.errSchemaPath+'"'))}if(r.schema.$comment&&r.opts.$comment&&(e+=" "+r.RULES.all.$comment.code(r,"$comment")),x){if(r.opts.coerceTypes)var R=r.util.coerceToTypes(r.opts.coerceTypes,x);var N=r.RULES.types[x];if(R||A||N===!0||N&&!ee(N)){d=r.schemaPath+".type",m=r.errSchemaPath+"/type",d=r.schemaPath+".type",m=r.errSchemaPath+"/type";var C=A?"checkDataTypes":"checkDataType";if(e+=" if ("+r.util[C](x,f,r.opts.strictNumbers,!0)+") { ",R){var O="dataType"+c,D="coerced"+c;e+=" var "+O+" = typeof "+f+"; var "+D+" = undefined; ",r.opts.coerceTypes=="array"&&(e+=" if ("+O+" == 'object' && Array.isArray("+f+") && "+f+".length == 1) { "+f+" = "+f+"[0]; "+O+" = typeof "+f+"; if ("+r.util.checkDataType(r.schema.type,f,r.opts.strictNumbers)+") "+D+" = "+f+"; } "),e+=" if ("+D+" !== undefined) ; ";var $=R;if($)for(var V,q=-1,W=$.length-1;q<W;)(V=$[q+=1])=="string"?e+=" else if ("+O+" == 'number' || "+O+" == 'boolean') "+D+" = '' + "+f+"; else if ("+f+" === null) "+D+" = ''; ":V=="number"||V=="integer"?(e+=" else if ("+O+" == 'boolean' || "+f+" === null || ("+O+" == 'string' && "+f+" && "+f+" == +"+f+" ",V=="integer"&&(e+=" && !("+f+" % 1)"),e+=")) "+D+" = +"+f+"; "):V=="boolean"?e+=" else if ("+f+" === 'false' || "+f+" === 0 || "+f+" === null) "+D+" = false; else if ("+f+" === 'true' || "+f+" === 1) "+D+" = true; ":V=="null"?e+=" else if ("+f+" === '' || "+f+" === 0 || "+f+" === false) "+D+" = null; ":r.opts.coerceTypes=="array"&&V=="array"&&(e+=" else if ("+O+" == 'string' || "+O+" == 'number' || "+O+" == 'boolean' || "+f+" == null) "+D+" = ["+f+"]; ");e+=" else {   ",(mr=mr||[]).push(e),e="",r.createErrors!==!1?(e+=" { keyword: 'type' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(m)+" , params: { type: '",e+=A?""+x.join(","):""+x,e+="' } ",r.opts.messages!==!1&&(e+=" , message: 'should be ",e+=A?""+x.join(","):""+x,e+="' "),r.opts.verbose&&(e+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),e+=" } "):e+=" {} ",P=e,e=mr.pop(),!r.compositeRule&&g?r.async?e+=" throw new ValidationError(["+P+"]); ":e+=" validate.errors = ["+P+"]; return false; ":e+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } if ("+D+" !== undefined) {  ";var J=l?"data"+(l-1||""):"parentData";e+=" "+f+" = "+D+"; ",l||(e+="if ("+J+" !== undefined)"),e+=" "+J+"["+(l?r.dataPathArr[l]:"parentDataProperty")+"] = "+D+"; } "}else(mr=mr||[]).push(e),e="",r.createErrors!==!1?(e+=" { keyword: 'type' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(m)+" , params: { type: '",e+=A?""+x.join(","):""+x,e+="' } ",r.opts.messages!==!1&&(e+=" , message: 'should be ",e+=A?""+x.join(","):""+x,e+="' "),r.opts.verbose&&(e+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),e+=" } "):e+=" {} ",P=e,e=mr.pop(),!r.compositeRule&&g?r.async?e+=" throw new ValidationError(["+P+"]); ":e+=" validate.errors = ["+P+"]; return false; ":e+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";e+=" } "}}if(r.schema.$ref&&!n)e+=" "+r.RULES.all.$ref.code(r,"$ref")+" ",g&&(e+=" } if (errors === ",e+=w?"0":"errs_"+c,e+=") { ",j+="}");else{var M=r.RULES;if(M){for(var X=-1,B=M.length-1;X<B;)if(ee(N=M[X+=1])){if(N.type&&(e+=" if ("+r.util.checkDataType(N.type,f,r.opts.strictNumbers)+") { "),r.opts.useDefaults){if(N.type=="object"&&r.schema.properties){h=r.schema.properties;var ur=Object.keys(h);if(ur){for(var cr,jr=-1,Ar=ur.length-1;jr<Ar;)if((er=h[cr=ur[jr+=1]]).default!==void 0){var hr=f+r.util.getProperty(cr);if(r.compositeRule){if(r.opts.strictDefaults){if(E="default is ignored for: "+hr,r.opts.strictDefaults!=="log")throw new Error(E);r.logger.warn(E)}}else e+=" if ("+hr+" === undefined ",r.opts.useDefaults=="empty"&&(e+=" || "+hr+" === null || "+hr+" === '' "),e+=" ) "+hr+" = ",r.opts.useDefaults=="shared"?e+=" "+r.useDefault(er.default)+" ":e+=" "+JSON.stringify(er.default)+" ",e+="; "}}}else if(N.type=="array"&&Array.isArray(r.schema.items)){var vr=r.schema.items;if(vr){q=-1;for(var er,re=vr.length-1;q<re;)if((er=vr[q+=1]).default!==void 0)if(hr=f+"["+q+"]",r.compositeRule){if(r.opts.strictDefaults){if(E="default is ignored for: "+hr,r.opts.strictDefaults!=="log")throw new Error(E);r.logger.warn(E)}}else e+=" if ("+hr+" === undefined ",r.opts.useDefaults=="empty"&&(e+=" || "+hr+" === null || "+hr+" === '' "),e+=" ) "+hr+" = ",r.opts.useDefaults=="shared"?e+=" "+r.useDefault(er.default)+" ":e+=" "+JSON.stringify(er.default)+" ",e+="; "}}}var Y=N.rules;if(Y){for(var H,Qr=-1,Rr=Y.length-1;Qr<Rr;)if(dr(H=Y[Qr+=1])){var nr=H.code(r,H.keyword,N.type);nr&&(e+=" "+nr+" ",g&&(k+="}"))}}if(g&&(e+=" "+k+" ",k=""),N.type&&(e+=" } ",x&&x===N.type&&!R)){e+=" else { ";var mr;d=r.schemaPath+".type",m=r.errSchemaPath+"/type",(mr=mr||[]).push(e),e="",r.createErrors!==!1?(e+=" { keyword: 'type' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(m)+" , params: { type: '",e+=A?""+x.join(","):""+x,e+="' } ",r.opts.messages!==!1&&(e+=" , message: 'should be ",e+=A?""+x.join(","):""+x,e+="' "),r.opts.verbose&&(e+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),e+=" } "):e+=" {} ",P=e,e=mr.pop(),!r.compositeRule&&g?r.async?e+=" throw new ValidationError(["+P+"]); ":e+=" validate.errors = ["+P+"]; return false; ":e+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } "}g&&(e+=" if (errors === ",e+=w?"0":"errs_"+c,e+=") { ",j+="}")}}}function ee(sr){for(var Nr=sr.rules,br=0;br<Nr.length;br++)if(dr(Nr[br]))return!0}function dr(sr){return r.schema[sr.keyword]!==void 0||sr.implements&&function(Nr){for(var br=Nr.implements,wr=0;wr<br.length;wr++)if(r.schema[br[wr]]!==void 0)return!0}(sr)}return g&&(e+=" "+j+" "),w?(t?(e+=" if (errors === 0) return data;           ",e+=" else throw new ValidationError(vErrors); "):(e+=" validate.errors = vErrors; ",e+=" return errors === 0;       "),e+=" }; return validate;"):e+=" var "+y+" = errors === errs_"+c+";",e},ro=Pr.ucs2length,eo=pe.Validation,Ot=function r(a,o,e,t){var n=this,i=this._opts,s=[void 0],u={},c=[],l={},h=[],d={},m=[];o=o||{schema:a,refVal:s,refs:u};var g=to.call(this,a,o,t),f=this._compilations[g.index];if(g.compiling)return f.callValidate=function O(){var D=f.validate,$=D.apply(this,arguments);return O.errors=D.errors,$};var y=this._formats,P=this.RULES;try{var w=k(a,o,e,t);f.validate=w;var E=f.callValidate;return E&&(E.schema=w.schema,E.errors=null,E.refs=w.refs,E.refVal=w.refVal,E.root=w.root,E.$async=w.$async,i.sourceCode&&(E.source=w.source)),w}finally{ao.call(this,a,o,t)}function k(O,D,$,V){var q=!D||D&&D.schema==O;if(D.schema!=o.schema)return r.call(n,O,D,$,V);var W,J=O.$async===!0,M=Je({isTop:!0,schema:O,isRoot:q,baseId:V,root:D,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:pe.MissingRef,RULES:P,validate:Je,util:Pr,resolve:gr,resolveRef:j,usePattern:R,useDefault:N,useCustomRule:C,opts:i,formats:y,logger:n.logger,self:n});M=xe(s,io)+xe(c,oo)+xe(h,no)+xe(m,so)+M,i.processCode&&(M=i.processCode(M,O));try{W=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",M)(n,P,y,o,s,h,m,Ie,ro,eo),s[0]=W}catch(X){throw n.logger.error("Error compiling schema, function code:",M),X}return W.schema=O,W.errors=null,W.refs=u,W.refVal=s,W.root=q?W:D,J&&(W.$async=!0),i.sourceCode===!0&&(W.source={code:M,patterns:c,defaults:h}),W}function j(O,D,$){D=gr.url(O,D);var V,q,W=u[D];if(W!==void 0)return A(V=s[W],q="refVal["+W+"]");if(!$&&o.refs){var J=o.refs[D];if(J!==void 0)return A(V=o.refVal[J],q=x(D,V))}q=x(D);var M=gr.call(n,k,o,D);if(M===void 0){var X=e&&e[D];X&&(M=gr.inlineRef(X,i.inlineRefs)?X:r.call(n,X,o,e,O))}if(M!==void 0)return function(B,ur){var cr=u[B];s[cr]=ur}(D,M),A(M,q);(function(B){delete u[B]})(D)}function x(O,D){var $=s.length;return s[$]=D,u[O]=$,"refVal"+$}function A(O,D){return typeof O=="object"||typeof O=="boolean"?{code:D,schema:O,inline:!0}:{code:D,$async:O&&!!O.$async}}function R(O){var D=l[O];return D===void 0&&(D=l[O]=c.length,c[D]=O),"pattern"+D}function N(O){switch(typeof O){case"boolean":case"number":return""+O;case"string":return Pr.toQuotedString(O);case"object":if(O===null)return"null";var D=sa(O),$=d[D];return $===void 0&&($=d[D]=h.length,h[$]=O),"default"+$}}function C(O,D,$,V){if(n._opts.validateSchema!==!1){var q=O.definition.dependencies;if(q&&!q.every(function(jr){return Object.prototype.hasOwnProperty.call($,jr)}))throw new Error("parent schema must have all required keywords: "+q.join(","));var W=O.definition.validateSchema;if(W&&!W(D)){var J="keyword schema is invalid: "+n.errorsText(W.errors);if(n._opts.validateSchema!="log")throw new Error(J);n.logger.error(J)}}var M,X=O.definition.compile,B=O.definition.inline,ur=O.definition.macro;if(X)M=X.call(n,D,$,V);else if(ur)M=ur.call(n,D,$,V),i.validateSchema!==!1&&n.validateSchema(M,!0);else if(B)M=B.call(n,V,O.keyword,D,$);else if(!(M=O.definition.validate))return;if(M===void 0)throw new Error('custom keyword "'+O.keyword+'"failed to compile');var cr=m.length;return m[cr]=M,{code:"customRule"+cr,validate:M}}};function to(r,a,o){var e=la.call(this,r,a,o);return e>=0?{index:e,compiling:!0}:(e=this._compilations.length,this._compilations[e]={schema:r,root:a,baseId:o},{index:e,compiling:!1})}function ao(r,a,o){var e=la.call(this,r,a,o);e>=0&&this._compilations.splice(e,1)}function la(r,a,o){for(var e=0;e<this._compilations.length;e++){var t=this._compilations[e];if(t.schema==r&&t.root==a&&t.baseId==o)return e}return-1}function oo(r,a){return"var pattern"+r+" = new RegExp("+Pr.toQuotedString(a[r])+");"}function no(r){return"var default"+r+" = defaults["+r+"];"}function io(r,a){return a[r]===void 0?"":"var refVal"+r+" = refVal["+r+"];"}function so(r){return"var customRule"+r+" = customRules["+r+"];"}function xe(r,a){if(!r.length)return"";for(var o="",e=0;e<r.length;e++)o+=a(e,r);return o}var lo=it(function(r){var a=r.exports=function(){this._cache={}};a.prototype.put=function(o,e){this._cache[o]=e},a.prototype.get=function(o){return this._cache[o]},a.prototype.del=function(o){delete this._cache[o]},a.prototype.clear=function(){this._cache={}}}),uo=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,co=[0,31,28,31,30,31,30,31,31,30,31,30,31],mo=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,_t=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,po=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Dt=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,kt=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,jt=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,At=/^(?:\/(?:[^~/]|~0|~1)*)*$/,It=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Ct=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,fo=Re;function Re(r){return r=r=="full"?"full":"fast",Pr.copy(Re[r])}function $t(r){var a=r.match(uo);if(!a)return!1;var o=+a[1],e=+a[2],t=+a[3];return e>=1&&e<=12&&t>=1&&t<=(e==2&&function(n){return n%4==0&&(n%100!=0||n%400==0)}(o)?29:co[e])}function Rt(r,a){var o=r.match(mo);if(!o)return!1;var e=o[1],t=o[2],n=o[3],i=o[5];return(e<=23&&t<=59&&n<=59||e==23&&t==59&&n==60)&&(!a||i)}Re.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":Dt,url:kt,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:_t,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Nt,uuid:jt,"json-pointer":At,"json-pointer-uri-fragment":It,"relative-json-pointer":Ct},Re.full={date:$t,time:Rt,"date-time":function(r){var a=r.split(ho);return a.length==2&&$t(a[0])&&Rt(a[1],!0)},uri:function(r){return vo.test(r)&&po.test(r)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":Dt,url:kt,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:_t,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Nt,uuid:jt,"json-pointer":At,"json-pointer-uri-fragment":It,"relative-json-pointer":Ct};var ho=/t|\s/i,vo=/\/|:/,go=/[^\\]\\Z/;function Nt(r){if(go.test(r))return!1;try{return new RegExp(r),!0}catch{return!1}}var Lt=function(r,a,o){var e,t=" ",n=r.level,i=r.dataLevel,s=r.schema[a],u=r.schemaPath+r.util.getProperty(a),c=r.errSchemaPath+"/"+a,l=!r.opts.allErrors,h="data"+(i||""),d=r.opts.$data&&s&&s.$data;d?(t+=" var schema"+n+" = "+r.util.getData(s.$data,i,r.dataPathArr)+"; ",e="schema"+n):e=s;var m=a=="maximum",g=m?"exclusiveMaximum":"exclusiveMinimum",f=r.schema[g],y=r.opts.$data&&f&&f.$data,P=m?"<":">",w=m?">":"<",E=void 0;if(!d&&typeof s!="number"&&s!==void 0)throw new Error(a+" must be number");if(!y&&f!==void 0&&typeof f!="number"&&typeof f!="boolean")throw new Error(g+" must be number or boolean");if(y){var k=r.util.getData(f.$data,i,r.dataPathArr),j="exclusive"+n,x="exclType"+n,A="exclIsNumber"+n,R="' + "+(O="op"+n)+" + '";t+=" var schemaExcl"+n+" = "+k+"; ",t+=" var "+j+"; var "+x+" = typeof "+(k="schemaExcl"+n)+"; if ("+x+" != 'boolean' && "+x+" != 'undefined' && "+x+" != 'number') { ";var N;E=g,(N=N||[]).push(t),t="",r.createErrors!==!1?(t+=" { keyword: '"+(E||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: {} ",r.opts.messages!==!1&&(t+=" , message: '"+g+" should be boolean' "),r.opts.verbose&&(t+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+h+" "),t+=" } "):t+=" {} ";var C=t;t=N.pop(),!r.compositeRule&&l?r.async?t+=" throw new ValidationError(["+C+"]); ":t+=" validate.errors = ["+C+"]; return false; ":t+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else if ( ",d&&(t+=" ("+e+" !== undefined && typeof "+e+" != 'number') || "),t+=" "+x+" == 'number' ? ( ("+j+" = "+e+" === undefined || "+k+" "+P+"= "+e+") ? "+h+" "+w+"= "+k+" : "+h+" "+w+" "+e+" ) : ( ("+j+" = "+k+" === true) ? "+h+" "+w+"= "+e+" : "+h+" "+w+" "+e+" ) || "+h+" !== "+h+") { var op"+n+" = "+j+" ? '"+P+"' : '"+P+"='; ",s===void 0&&(E=g,c=r.errSchemaPath+"/"+g,e=k,d=y)}else if(R=P,(A=typeof f=="number")&&d){var O="'"+R+"'";t+=" if ( ",d&&(t+=" ("+e+" !== undefined && typeof "+e+" != 'number') || "),t+=" ( "+e+" === undefined || "+f+" "+P+"= "+e+" ? "+h+" "+w+"= "+f+" : "+h+" "+w+" "+e+" ) || "+h+" !== "+h+") { "}else A&&s===void 0?(j=!0,E=g,c=r.errSchemaPath+"/"+g,e=f,w+="="):(A&&(e=Math[m?"min":"max"](f,s)),f===(!A||e)?(j=!0,E=g,c=r.errSchemaPath+"/"+g,w+="="):(j=!1,R+="=")),O="'"+R+"'",t+=" if ( ",d&&(t+=" ("+e+" !== undefined && typeof "+e+" != 'number') || "),t+=" "+h+" "+w+" "+e+" || "+h+" !== "+h+") { ";return E=E||a,(N=N||[]).push(t),t="",r.createErrors!==!1?(t+=" { keyword: '"+(E||"_limit")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: { comparison: "+O+", limit: "+e+", exclusive: "+j+" } ",r.opts.messages!==!1&&(t+=" , message: 'should be "+R+" ",t+=d?"' + "+e:e+"'"),r.opts.verbose&&(t+=" , schema:  ",t+=d?"validate.schema"+u:""+s,t+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+h+" "),t+=" } "):t+=" {} ",C=t,t=N.pop(),!r.compositeRule&&l?r.async?t+=" throw new ValidationError(["+C+"]); ":t+=" validate.errors = ["+C+"]; return false; ":t+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } ",l&&(t+=" else { "),t},Tt=function(r,a,o){var e,t=" ",n=r.level,i=r.dataLevel,s=r.schema[a],u=r.schemaPath+r.util.getProperty(a),c=r.errSchemaPath+"/"+a,l=!r.opts.allErrors,h="data"+(i||""),d=r.opts.$data&&s&&s.$data;if(d?(t+=" var schema"+n+" = "+r.util.getData(s.$data,i,r.dataPathArr)+"; ",e="schema"+n):e=s,!d&&typeof s!="number")throw new Error(a+" must be number");t+="if ( ",d&&(t+=" ("+e+" !== undefined && typeof "+e+" != 'number') || "),t+=" "+h+".length "+(a=="maxItems"?">":"<")+" "+e+") { ";var m=a,g=g||[];g.push(t),t="",r.createErrors!==!1?(t+=" { keyword: '"+(m||"_limitItems")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: { limit: "+e+" } ",r.opts.messages!==!1&&(t+=" , message: 'should NOT have ",t+=a=="maxItems"?"more":"fewer",t+=" than ",t+=d?"' + "+e+" + '":""+s,t+=" items' "),r.opts.verbose&&(t+=" , schema:  ",t+=d?"validate.schema"+u:""+s,t+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+h+" "),t+=" } "):t+=" {} ";var f=t;return t=g.pop(),!r.compositeRule&&l?r.async?t+=" throw new ValidationError(["+f+"]); ":t+=" validate.errors = ["+f+"]; return false; ":t+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+="} ",l&&(t+=" else { "),t},zt=function(r,a,o){var e,t=" ",n=r.level,i=r.dataLevel,s=r.schema[a],u=r.schemaPath+r.util.getProperty(a),c=r.errSchemaPath+"/"+a,l=!r.opts.allErrors,h="data"+(i||""),d=r.opts.$data&&s&&s.$data;if(d?(t+=" var schema"+n+" = "+r.util.getData(s.$data,i,r.dataPathArr)+"; ",e="schema"+n):e=s,!d&&typeof s!="number")throw new Error(a+" must be number");var m=a=="maxLength"?">":"<";t+="if ( ",d&&(t+=" ("+e+" !== undefined && typeof "+e+" != 'number') || "),r.opts.unicode===!1?t+=" "+h+".length ":t+=" ucs2length("+h+") ",t+=" "+m+" "+e+") { ";var g=a,f=f||[];f.push(t),t="",r.createErrors!==!1?(t+=" { keyword: '"+(g||"_limitLength")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: { limit: "+e+" } ",r.opts.messages!==!1&&(t+=" , message: 'should NOT be ",t+=a=="maxLength"?"longer":"shorter",t+=" than ",t+=d?"' + "+e+" + '":""+s,t+=" characters' "),r.opts.verbose&&(t+=" , schema:  ",t+=d?"validate.schema"+u:""+s,t+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+h+" "),t+=" } "):t+=" {} ";var y=t;return t=f.pop(),!r.compositeRule&&l?r.async?t+=" throw new ValidationError(["+y+"]); ":t+=" validate.errors = ["+y+"]; return false; ":t+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+="} ",l&&(t+=" else { "),t},Vt=function(r,a,o){var e,t=" ",n=r.level,i=r.dataLevel,s=r.schema[a],u=r.schemaPath+r.util.getProperty(a),c=r.errSchemaPath+"/"+a,l=!r.opts.allErrors,h="data"+(i||""),d=r.opts.$data&&s&&s.$data;if(d?(t+=" var schema"+n+" = "+r.util.getData(s.$data,i,r.dataPathArr)+"; ",e="schema"+n):e=s,!d&&typeof s!="number")throw new Error(a+" must be number");t+="if ( ",d&&(t+=" ("+e+" !== undefined && typeof "+e+" != 'number') || "),t+=" Object.keys("+h+").length "+(a=="maxProperties"?">":"<")+" "+e+") { ";var m=a,g=g||[];g.push(t),t="",r.createErrors!==!1?(t+=" { keyword: '"+(m||"_limitProperties")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: { limit: "+e+" } ",r.opts.messages!==!1&&(t+=" , message: 'should NOT have ",t+=a=="maxProperties"?"more":"fewer",t+=" than ",t+=d?"' + "+e+" + '":""+s,t+=" properties' "),r.opts.verbose&&(t+=" , schema:  ",t+=d?"validate.schema"+u:""+s,t+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+h+" "),t+=" } "):t+=" {} ";var f=t;return t=g.pop(),!r.compositeRule&&l?r.async?t+=" throw new ValidationError(["+f+"]); ":t+=" validate.errors = ["+f+"]; return false; ":t+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+="} ",l&&(t+=" else { "),t},qt={$ref:function(r,a,o){var e,t,n=" ",i=r.level,s=r.dataLevel,u=r.schema[a],c=r.errSchemaPath+"/"+a,l=!r.opts.allErrors,h="data"+(s||""),d="valid"+i;if(u=="#"||u=="#/")r.isRoot?(e=r.async,t="validate"):(e=r.root.schema.$async===!0,t="root.refVal[0]");else{var m=r.resolveRef(r.baseId,u,r.isRoot);if(m===void 0){var g=r.MissingRefError.message(r.baseId,u);if(r.opts.missingRefs=="fail"){r.logger.error(g),(w=w||[]).push(n),n="",r.createErrors!==!1?(n+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: { ref: '"+r.util.escapeQuotes(u)+"' } ",r.opts.messages!==!1&&(n+=" , message: 'can\\'t resolve reference "+r.util.escapeQuotes(u)+"' "),r.opts.verbose&&(n+=" , schema: "+r.util.toQuotedString(u)+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var f=n;n=w.pop(),!r.compositeRule&&l?r.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(n+=" if (false) { ")}else{if(r.opts.missingRefs!="ignore")throw new r.MissingRefError(r.baseId,u,g);r.logger.warn(g),l&&(n+=" if (true) { ")}}else if(m.inline){var y=r.util.copy(r);y.level++;var P="valid"+y.level;y.schema=m.schema,y.schemaPath="",y.errSchemaPath=u,n+=" "+r.validate(y).replace(/validate\.schema/g,m.code)+" ",l&&(n+=" if ("+P+") { ")}else e=m.$async===!0||r.async&&m.$async!==!1,t=m.code}if(t){var w;(w=w||[]).push(n),n="",r.opts.passContext?n+=" "+t+".call(this, ":n+=" "+t+"( ",n+=" "+h+", (dataPath || '')",r.errorPath!='""'&&(n+=" + "+r.errorPath);var E=n+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?r.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(n=w.pop(),e){if(!r.async)throw new Error("async schema referenced by sync schema");l&&(n+=" var "+d+"; "),n+=" try { await "+E+"; ",l&&(n+=" "+d+" = true; "),n+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(n+=" "+d+" = false; "),n+=" } ",l&&(n+=" if ("+d+") { ")}else n+=" if (!"+E+") { if (vErrors === null) vErrors = "+t+".errors; else vErrors = vErrors.concat("+t+".errors); errors = vErrors.length; } ",l&&(n+=" else { ")}return n},allOf:function(r,a,o){var e=" ",t=r.schema[a],n=r.schemaPath+r.util.getProperty(a),i=r.errSchemaPath+"/"+a,s=!r.opts.allErrors,u=r.util.copy(r),c="";u.level++;var l="valid"+u.level,h=u.baseId,d=!0,m=t;if(m)for(var g,f=-1,y=m.length-1;f<y;)g=m[f+=1],(r.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:r.util.schemaHasRules(g,r.RULES.all))&&(d=!1,u.schema=g,u.schemaPath=n+"["+f+"]",u.errSchemaPath=i+"/"+f,e+="  "+r.validate(u)+" ",u.baseId=h,s&&(e+=" if ("+l+") { ",c+="}"));return s&&(e+=d?" if (true) { ":" "+c.slice(0,-1)+" "),e},anyOf:function(r,a,o){var e=" ",t=r.level,n=r.dataLevel,i=r.schema[a],s=r.schemaPath+r.util.getProperty(a),u=r.errSchemaPath+"/"+a,c=!r.opts.allErrors,l="data"+(n||""),h="valid"+t,d="errs__"+t,m=r.util.copy(r),g="";m.level++;var f="valid"+m.level;if(i.every(function(x){return r.opts.strictKeywords?typeof x=="object"&&Object.keys(x).length>0||x===!1:r.util.schemaHasRules(x,r.RULES.all)})){var y=m.baseId;e+=" var "+d+" = errors; var "+h+" = false;  ";var P=r.compositeRule;r.compositeRule=m.compositeRule=!0;var w=i;if(w)for(var E,k=-1,j=w.length-1;k<j;)E=w[k+=1],m.schema=E,m.schemaPath=s+"["+k+"]",m.errSchemaPath=u+"/"+k,e+="  "+r.validate(m)+" ",m.baseId=y,e+=" "+h+" = "+h+" || "+f+"; if (!"+h+") { ",g+="}";r.compositeRule=m.compositeRule=P,e+=" "+g+" if (!"+h+") {   var err =   ",r.createErrors!==!1?(e+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: {} ",r.opts.messages!==!1&&(e+=" , message: 'should match some schema in anyOf' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&c&&(r.async?e+=" throw new ValidationError(vErrors); ":e+=" validate.errors = vErrors; return false; "),e+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",r.opts.allErrors&&(e+=" } ")}else c&&(e+=" if (true) { ");return e},$comment:function(r,a,o){var e=" ",t=r.schema[a],n=r.errSchemaPath+"/"+a;r.opts.allErrors;var i=r.util.toQuotedString(t);return r.opts.$comment===!0?e+=" console.log("+i+");":typeof r.opts.$comment=="function"&&(e+=" self._opts.$comment("+i+", "+r.util.toQuotedString(n)+", validate.root.schema);"),e},const:function(r,a,o){var e=" ",t=r.level,n=r.dataLevel,i=r.schema[a],s=r.schemaPath+r.util.getProperty(a),u=r.errSchemaPath+"/"+a,c=!r.opts.allErrors,l="data"+(n||""),h="valid"+t,d=r.opts.$data&&i&&i.$data;d&&(e+=" var schema"+t+" = "+r.util.getData(i.$data,n,r.dataPathArr)+"; "),d||(e+=" var schema"+t+" = validate.schema"+s+";"),e+="var "+h+" = equal("+l+", schema"+t+"); if (!"+h+") {   ";var m=m||[];m.push(e),e="",r.createErrors!==!1?(e+=" { keyword: 'const' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { allowedValue: schema"+t+" } ",r.opts.messages!==!1&&(e+=" , message: 'should be equal to constant' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var g=e;return e=m.pop(),!r.compositeRule&&c?r.async?e+=" throw new ValidationError(["+g+"]); ":e+=" validate.errors = ["+g+"]; return false; ":e+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" }",c&&(e+=" else { "),e},contains:function(r,a,o){var e=" ",t=r.level,n=r.dataLevel,i=r.schema[a],s=r.schemaPath+r.util.getProperty(a),u=r.errSchemaPath+"/"+a,c=!r.opts.allErrors,l="data"+(n||""),h="valid"+t,d="errs__"+t,m=r.util.copy(r);m.level++;var g="valid"+m.level,f="i"+t,y=m.dataLevel=r.dataLevel+1,P="data"+y,w=r.baseId,E=r.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:r.util.schemaHasRules(i,r.RULES.all);if(e+="var "+d+" = errors;var "+h+";",E){var k=r.compositeRule;r.compositeRule=m.compositeRule=!0,m.schema=i,m.schemaPath=s,m.errSchemaPath=u,e+=" var "+g+" = false; for (var "+f+" = 0; "+f+" < "+l+".length; "+f+"++) { ",m.errorPath=r.util.getPathExpr(r.errorPath,f,r.opts.jsonPointers,!0);var j=l+"["+f+"]";m.dataPathArr[y]=f;var x=r.validate(m);m.baseId=w,r.util.varOccurences(x,P)<2?e+=" "+r.util.varReplace(x,P,j)+" ":e+=" var "+P+" = "+j+"; "+x+" ",e+=" if ("+g+") break; }  ",r.compositeRule=m.compositeRule=k,e+="  if (!"+g+") {"}else e+=" if ("+l+".length == 0) {";var A=A||[];A.push(e),e="",r.createErrors!==!1?(e+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: {} ",r.opts.messages!==!1&&(e+=" , message: 'should contain a valid item' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var R=e;return e=A.pop(),!r.compositeRule&&c?r.async?e+=" throw new ValidationError(["+R+"]); ":e+=" validate.errors = ["+R+"]; return false; ":e+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } else { ",E&&(e+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),r.opts.allErrors&&(e+=" } "),e},dependencies:function(r,a,o){var e=" ",t=r.level,n=r.dataLevel,i=r.schema[a],s=r.schemaPath+r.util.getProperty(a),u=r.errSchemaPath+"/"+a,c=!r.opts.allErrors,l="data"+(n||""),h="errs__"+t,d=r.util.copy(r),m="";d.level++;var g="valid"+d.level,f={},y={},P=r.opts.ownProperties;for(j in i)if(j!="__proto__"){var w=i[j],E=Array.isArray(w)?y:f;E[j]=w}e+="var "+h+" = errors;";var k=r.errorPath;for(var j in e+="var missing"+t+";",y)if((E=y[j]).length){if(e+=" if ( "+l+r.util.getProperty(j)+" !== undefined ",P&&(e+=" && Object.prototype.hasOwnProperty.call("+l+", '"+r.util.escapeQuotes(j)+"') "),c){e+=" && ( ";var x=E;if(x)for(var A=-1,R=x.length-1;A<R;)V=x[A+=1],A&&(e+=" || "),e+=" ( ( "+(M=l+(J=r.util.getProperty(V)))+" === undefined ",P&&(e+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+r.util.escapeQuotes(V)+"') "),e+=") && (missing"+t+" = "+r.util.toQuotedString(r.opts.jsonPointers?V:J)+") ) ";e+=")) {  ";var N="missing"+t,C="' + "+N+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(k,N,!0):k+" + "+N);var O=O||[];O.push(e),e="",r.createErrors!==!1?(e+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { property: '"+r.util.escapeQuotes(j)+"', missingProperty: '"+C+"', depsCount: "+E.length+", deps: '"+r.util.escapeQuotes(E.length==1?E[0]:E.join(", "))+"' } ",r.opts.messages!==!1&&(e+=" , message: 'should have ",E.length==1?e+="property "+r.util.escapeQuotes(E[0]):e+="properties "+r.util.escapeQuotes(E.join(", ")),e+=" when property "+r.util.escapeQuotes(j)+" is present' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var D=e;e=O.pop(),!r.compositeRule&&c?r.async?e+=" throw new ValidationError(["+D+"]); ":e+=" validate.errors = ["+D+"]; return false; ":e+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{e+=" ) { ";var $=E;if($)for(var V,q=-1,W=$.length-1;q<W;){V=$[q+=1];var J=r.util.getProperty(V),M=(C=r.util.escapeQuotes(V),l+J);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(k,V,r.opts.jsonPointers)),e+=" if ( "+M+" === undefined ",P&&(e+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+r.util.escapeQuotes(V)+"') "),e+=") {  var err =   ",r.createErrors!==!1?(e+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { property: '"+r.util.escapeQuotes(j)+"', missingProperty: '"+C+"', depsCount: "+E.length+", deps: '"+r.util.escapeQuotes(E.length==1?E[0]:E.join(", "))+"' } ",r.opts.messages!==!1&&(e+=" , message: 'should have ",E.length==1?e+="property "+r.util.escapeQuotes(E[0]):e+="properties "+r.util.escapeQuotes(E.join(", ")),e+=" when property "+r.util.escapeQuotes(j)+" is present' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e+=" }   ",c&&(m+="}",e+=" else { ")}r.errorPath=k;var X=d.baseId;for(var j in f)w=f[j],(r.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:r.util.schemaHasRules(w,r.RULES.all))&&(e+=" "+g+" = true; if ( "+l+r.util.getProperty(j)+" !== undefined ",P&&(e+=" && Object.prototype.hasOwnProperty.call("+l+", '"+r.util.escapeQuotes(j)+"') "),e+=") { ",d.schema=w,d.schemaPath=s+r.util.getProperty(j),d.errSchemaPath=u+"/"+r.util.escapeFragment(j),e+="  "+r.validate(d)+" ",d.baseId=X,e+=" }  ",c&&(e+=" if ("+g+") { ",m+="}"));return c&&(e+="   "+m+" if ("+h+" == errors) {"),e},enum:function(r,a,o){var e=" ",t=r.level,n=r.dataLevel,i=r.schema[a],s=r.schemaPath+r.util.getProperty(a),u=r.errSchemaPath+"/"+a,c=!r.opts.allErrors,l="data"+(n||""),h="valid"+t,d=r.opts.$data&&i&&i.$data;d&&(e+=" var schema"+t+" = "+r.util.getData(i.$data,n,r.dataPathArr)+"; ");var m="i"+t,g="schema"+t;d||(e+=" var "+g+" = validate.schema"+s+";"),e+="var "+h+";",d&&(e+=" if (schema"+t+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+t+")) "+h+" = false; else {"),e+=h+" = false;for (var "+m+"=0; "+m+"<"+g+".length; "+m+"++) if (equal("+l+", "+g+"["+m+"])) { "+h+" = true; break; }",d&&(e+="  }  "),e+=" if (!"+h+") {   ";var f=f||[];f.push(e),e="",r.createErrors!==!1?(e+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { allowedValues: schema"+t+" } ",r.opts.messages!==!1&&(e+=" , message: 'should be equal to one of the allowed values' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var y=e;return e=f.pop(),!r.compositeRule&&c?r.async?e+=" throw new ValidationError(["+y+"]); ":e+=" validate.errors = ["+y+"]; return false; ":e+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" }",c&&(e+=" else { "),e},format:function(r,a,o){var e=" ",t=r.level,n=r.dataLevel,i=r.schema[a],s=r.schemaPath+r.util.getProperty(a),u=r.errSchemaPath+"/"+a,c=!r.opts.allErrors,l="data"+(n||"");if(r.opts.format===!1)return c&&(e+=" if (true) { "),e;var h,d=r.opts.$data&&i&&i.$data;d?(e+=" var schema"+t+" = "+r.util.getData(i.$data,n,r.dataPathArr)+"; ",h="schema"+t):h=i;var m=r.opts.unknownFormats,g=Array.isArray(m);if(d)e+=" var "+(f="format"+t)+" = formats["+h+"]; var "+(y="isObject"+t)+" = typeof "+f+" == 'object' && !("+f+" instanceof RegExp) && "+f+".validate; var "+(P="formatType"+t)+" = "+y+" && "+f+".type || 'string'; if ("+y+") { ",r.async&&(e+=" var async"+t+" = "+f+".async; "),e+=" "+f+" = "+f+".validate; } if (  ",d&&(e+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),e+=" (",m!="ignore"&&(e+=" ("+h+" && !"+f+" ",g&&(e+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),e+=") || "),e+=" ("+f+" && "+P+" == '"+o+"' && !(typeof "+f+" == 'function' ? ",r.async?e+=" (async"+t+" ? await "+f+"("+l+") : "+f+"("+l+")) ":e+=" "+f+"("+l+") ",e+=" : "+f+".test("+l+"))))) {";else{var f;if(!(f=r.formats[i])){if(m=="ignore")return r.logger.warn('unknown format "'+i+'" ignored in schema at path "'+r.errSchemaPath+'"'),c&&(e+=" if (true) { "),e;if(g&&m.indexOf(i)>=0)return c&&(e+=" if (true) { "),e;throw new Error('unknown format "'+i+'" is used in schema at path "'+r.errSchemaPath+'"')}var y,P=(y=typeof f=="object"&&!(f instanceof RegExp)&&f.validate)&&f.type||"string";if(y){var w=f.async===!0;f=f.validate}if(P!=o)return c&&(e+=" if (true) { "),e;if(w){if(!r.async)throw new Error("async format in sync schema");e+=" if (!(await "+(E="formats"+r.util.getProperty(i)+".validate")+"("+l+"))) { "}else{e+=" if (! ";var E="formats"+r.util.getProperty(i);y&&(E+=".validate"),e+=typeof f=="function"?" "+E+"("+l+") ":" "+E+".test("+l+") ",e+=") { "}}var k=k||[];k.push(e),e="",r.createErrors!==!1?(e+=" { keyword: 'format' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { format:  ",e+=d?""+h:""+r.util.toQuotedString(i),e+="  } ",r.opts.messages!==!1&&(e+=` , message: 'should match format "`,e+=d?"' + "+h+" + '":""+r.util.escapeQuotes(i),e+=`"' `),r.opts.verbose&&(e+=" , schema:  ",e+=d?"validate.schema"+s:""+r.util.toQuotedString(i),e+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var j=e;return e=k.pop(),!r.compositeRule&&c?r.async?e+=" throw new ValidationError(["+j+"]); ":e+=" validate.errors = ["+j+"]; return false; ":e+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } ",c&&(e+=" else { "),e},if:function(r,a,o){var e=" ",t=r.level,n=r.dataLevel,i=r.schema[a],s=r.schemaPath+r.util.getProperty(a),u=r.errSchemaPath+"/"+a,c=!r.opts.allErrors,l="data"+(n||""),h="valid"+t,d="errs__"+t,m=r.util.copy(r);m.level++;var g="valid"+m.level,f=r.schema.then,y=r.schema.else,P=f!==void 0&&(r.opts.strictKeywords?typeof f=="object"&&Object.keys(f).length>0||f===!1:r.util.schemaHasRules(f,r.RULES.all)),w=y!==void 0&&(r.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:r.util.schemaHasRules(y,r.RULES.all)),E=m.baseId;if(P||w){var k;m.createErrors=!1,m.schema=i,m.schemaPath=s,m.errSchemaPath=u,e+=" var "+d+" = errors; var "+h+" = true;  ";var j=r.compositeRule;r.compositeRule=m.compositeRule=!0,e+="  "+r.validate(m)+" ",m.baseId=E,m.createErrors=!0,e+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",r.compositeRule=m.compositeRule=j,P?(e+=" if ("+g+") {  ",m.schema=r.schema.then,m.schemaPath=r.schemaPath+".then",m.errSchemaPath=r.errSchemaPath+"/then",e+="  "+r.validate(m)+" ",m.baseId=E,e+=" "+h+" = "+g+"; ",P&&w?e+=" var "+(k="ifClause"+t)+" = 'then'; ":k="'then'",e+=" } ",w&&(e+=" else { ")):e+=" if (!"+g+") { ",w&&(m.schema=r.schema.else,m.schemaPath=r.schemaPath+".else",m.errSchemaPath=r.errSchemaPath+"/else",e+="  "+r.validate(m)+" ",m.baseId=E,e+=" "+h+" = "+g+"; ",P&&w?e+=" var "+(k="ifClause"+t)+" = 'else'; ":k="'else'",e+=" } "),e+=" if (!"+h+") {   var err =   ",r.createErrors!==!1?(e+=" { keyword: 'if' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { failingKeyword: "+k+" } ",r.opts.messages!==!1&&(e+=` , message: 'should match "' + `+k+` + '" schema' `),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&c&&(r.async?e+=" throw new ValidationError(vErrors); ":e+=" validate.errors = vErrors; return false; "),e+=" }   ",c&&(e+=" else { ")}else c&&(e+=" if (true) { ");return e},items:function(r,a,o){var e=" ",t=r.level,n=r.dataLevel,i=r.schema[a],s=r.schemaPath+r.util.getProperty(a),u=r.errSchemaPath+"/"+a,c=!r.opts.allErrors,l="data"+(n||""),h="valid"+t,d="errs__"+t,m=r.util.copy(r),g="";m.level++;var f="valid"+m.level,y="i"+t,P=m.dataLevel=r.dataLevel+1,w="data"+P,E=r.baseId;if(e+="var "+d+" = errors;var "+h+";",Array.isArray(i)){var k=r.schema.additionalItems;if(k===!1){e+=" "+h+" = "+l+".length <= "+i.length+"; ";var j=u;u=r.errSchemaPath+"/additionalItems",e+="  if (!"+h+") {   ";var x=x||[];x.push(e),e="",r.createErrors!==!1?(e+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { limit: "+i.length+" } ",r.opts.messages!==!1&&(e+=" , message: 'should NOT have more than "+i.length+" items' "),r.opts.verbose&&(e+=" , schema: false , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var A=e;e=x.pop(),!r.compositeRule&&c?r.async?e+=" throw new ValidationError(["+A+"]); ":e+=" validate.errors = ["+A+"]; return false; ":e+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } ",u=j,c&&(g+="}",e+=" else { ")}var R=i;if(R){for(var N,C=-1,O=R.length-1;C<O;)if(N=R[C+=1],r.opts.strictKeywords?typeof N=="object"&&Object.keys(N).length>0||N===!1:r.util.schemaHasRules(N,r.RULES.all)){e+=" "+f+" = true; if ("+l+".length > "+C+") { ";var D=l+"["+C+"]";m.schema=N,m.schemaPath=s+"["+C+"]",m.errSchemaPath=u+"/"+C,m.errorPath=r.util.getPathExpr(r.errorPath,C,r.opts.jsonPointers,!0),m.dataPathArr[P]=C;var $=r.validate(m);m.baseId=E,r.util.varOccurences($,w)<2?e+=" "+r.util.varReplace($,w,D)+" ":e+=" var "+w+" = "+D+"; "+$+" ",e+=" }  ",c&&(e+=" if ("+f+") { ",g+="}")}}typeof k=="object"&&(r.opts.strictKeywords?typeof k=="object"&&Object.keys(k).length>0||k===!1:r.util.schemaHasRules(k,r.RULES.all))&&(m.schema=k,m.schemaPath=r.schemaPath+".additionalItems",m.errSchemaPath=r.errSchemaPath+"/additionalItems",e+=" "+f+" = true; if ("+l+".length > "+i.length+") {  for (var "+y+" = "+i.length+"; "+y+" < "+l+".length; "+y+"++) { ",m.errorPath=r.util.getPathExpr(r.errorPath,y,r.opts.jsonPointers,!0),D=l+"["+y+"]",m.dataPathArr[P]=y,$=r.validate(m),m.baseId=E,r.util.varOccurences($,w)<2?e+=" "+r.util.varReplace($,w,D)+" ":e+=" var "+w+" = "+D+"; "+$+" ",c&&(e+=" if (!"+f+") break; "),e+=" } }  ",c&&(e+=" if ("+f+") { ",g+="}"))}else(r.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:r.util.schemaHasRules(i,r.RULES.all))&&(m.schema=i,m.schemaPath=s,m.errSchemaPath=u,e+="  for (var "+y+" = 0; "+y+" < "+l+".length; "+y+"++) { ",m.errorPath=r.util.getPathExpr(r.errorPath,y,r.opts.jsonPointers,!0),D=l+"["+y+"]",m.dataPathArr[P]=y,$=r.validate(m),m.baseId=E,r.util.varOccurences($,w)<2?e+=" "+r.util.varReplace($,w,D)+" ":e+=" var "+w+" = "+D+"; "+$+" ",c&&(e+=" if (!"+f+") break; "),e+=" }");return c&&(e+=" "+g+" if ("+d+" == errors) {"),e},maximum:Lt,minimum:Lt,maxItems:Tt,minItems:Tt,maxLength:zt,minLength:zt,maxProperties:Vt,minProperties:Vt,multipleOf:function(r,a,o){var e,t=" ",n=r.level,i=r.dataLevel,s=r.schema[a],u=r.schemaPath+r.util.getProperty(a),c=r.errSchemaPath+"/"+a,l=!r.opts.allErrors,h="data"+(i||""),d=r.opts.$data&&s&&s.$data;if(d?(t+=" var schema"+n+" = "+r.util.getData(s.$data,i,r.dataPathArr)+"; ",e="schema"+n):e=s,!d&&typeof s!="number")throw new Error(a+" must be number");t+="var division"+n+";if (",d&&(t+=" "+e+" !== undefined && ( typeof "+e+" != 'number' || "),t+=" (division"+n+" = "+h+" / "+e+", ",r.opts.multipleOfPrecision?t+=" Math.abs(Math.round(division"+n+") - division"+n+") > 1e-"+r.opts.multipleOfPrecision+" ":t+=" division"+n+" !== parseInt(division"+n+") ",t+=" ) ",d&&(t+="  )  "),t+=" ) {   ";var m=m||[];m.push(t),t="",r.createErrors!==!1?(t+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: { multipleOf: "+e+" } ",r.opts.messages!==!1&&(t+=" , message: 'should be multiple of ",t+=d?"' + "+e:e+"'"),r.opts.verbose&&(t+=" , schema:  ",t+=d?"validate.schema"+u:""+s,t+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+h+" "),t+=" } "):t+=" {} ";var g=t;return t=m.pop(),!r.compositeRule&&l?r.async?t+=" throw new ValidationError(["+g+"]); ":t+=" validate.errors = ["+g+"]; return false; ":t+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+="} ",l&&(t+=" else { "),t},not:function(r,a,o){var e=" ",t=r.level,n=r.dataLevel,i=r.schema[a],s=r.schemaPath+r.util.getProperty(a),u=r.errSchemaPath+"/"+a,c=!r.opts.allErrors,l="data"+(n||""),h="errs__"+t,d=r.util.copy(r);d.level++;var m="valid"+d.level;if(r.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:r.util.schemaHasRules(i,r.RULES.all)){d.schema=i,d.schemaPath=s,d.errSchemaPath=u,e+=" var "+h+" = errors;  ";var g,f=r.compositeRule;r.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.opts.allErrors&&(g=d.opts.allErrors,d.opts.allErrors=!1),e+=" "+r.validate(d)+" ",d.createErrors=!0,g&&(d.opts.allErrors=g),r.compositeRule=d.compositeRule=f,e+=" if ("+m+") {   ";var y=y||[];y.push(e),e="",r.createErrors!==!1?(e+=" { keyword: 'not' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: {} ",r.opts.messages!==!1&&(e+=" , message: 'should NOT be valid' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var P=e;e=y.pop(),!r.compositeRule&&c?r.async?e+=" throw new ValidationError(["+P+"]); ":e+=" validate.errors = ["+P+"]; return false; ":e+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",r.opts.allErrors&&(e+=" } ")}else e+="  var err =   ",r.createErrors!==!1?(e+=" { keyword: 'not' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: {} ",r.opts.messages!==!1&&(e+=" , message: 'should NOT be valid' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(e+=" if (false) { ");return e},oneOf:function(r,a,o){var e=" ",t=r.level,n=r.dataLevel,i=r.schema[a],s=r.schemaPath+r.util.getProperty(a),u=r.errSchemaPath+"/"+a,c=!r.opts.allErrors,l="data"+(n||""),h="valid"+t,d="errs__"+t,m=r.util.copy(r),g="";m.level++;var f="valid"+m.level,y=m.baseId,P="prevValid"+t,w="passingSchemas"+t;e+="var "+d+" = errors , "+P+" = false , "+h+" = false , "+w+" = null; ";var E=r.compositeRule;r.compositeRule=m.compositeRule=!0;var k=i;if(k)for(var j,x=-1,A=k.length-1;x<A;)j=k[x+=1],(r.opts.strictKeywords?typeof j=="object"&&Object.keys(j).length>0||j===!1:r.util.schemaHasRules(j,r.RULES.all))?(m.schema=j,m.schemaPath=s+"["+x+"]",m.errSchemaPath=u+"/"+x,e+="  "+r.validate(m)+" ",m.baseId=y):e+=" var "+f+" = true; ",x&&(e+=" if ("+f+" && "+P+") { "+h+" = false; "+w+" = ["+w+", "+x+"]; } else { ",g+="}"),e+=" if ("+f+") { "+h+" = "+P+" = true; "+w+" = "+x+"; }";return r.compositeRule=m.compositeRule=E,e+=g+"if (!"+h+") {   var err =   ",r.createErrors!==!1?(e+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { passingSchemas: "+w+" } ",r.opts.messages!==!1&&(e+=" , message: 'should match exactly one schema in oneOf' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&c&&(r.async?e+=" throw new ValidationError(vErrors); ":e+=" validate.errors = vErrors; return false; "),e+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",r.opts.allErrors&&(e+=" } "),e},pattern:function(r,a,o){var e,t=" ",n=r.level,i=r.dataLevel,s=r.schema[a],u=r.schemaPath+r.util.getProperty(a),c=r.errSchemaPath+"/"+a,l=!r.opts.allErrors,h="data"+(i||""),d=r.opts.$data&&s&&s.$data;d?(t+=" var schema"+n+" = "+r.util.getData(s.$data,i,r.dataPathArr)+"; ",e="schema"+n):e=s,t+="if ( ",d&&(t+=" ("+e+" !== undefined && typeof "+e+" != 'string') || "),t+=" !"+(d?"(new RegExp("+e+"))":r.usePattern(s))+".test("+h+") ) {   ";var m=m||[];m.push(t),t="",r.createErrors!==!1?(t+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: { pattern:  ",t+=d?""+e:""+r.util.toQuotedString(s),t+="  } ",r.opts.messages!==!1&&(t+=` , message: 'should match pattern "`,t+=d?"' + "+e+" + '":""+r.util.escapeQuotes(s),t+=`"' `),r.opts.verbose&&(t+=" , schema:  ",t+=d?"validate.schema"+u:""+r.util.toQuotedString(s),t+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+h+" "),t+=" } "):t+=" {} ";var g=t;return t=m.pop(),!r.compositeRule&&l?r.async?t+=" throw new ValidationError(["+g+"]); ":t+=" validate.errors = ["+g+"]; return false; ":t+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+="} ",l&&(t+=" else { "),t},properties:function(r,a,o){var e=" ",t=r.level,n=r.dataLevel,i=r.schema[a],s=r.schemaPath+r.util.getProperty(a),u=r.errSchemaPath+"/"+a,c=!r.opts.allErrors,l="data"+(n||""),h="errs__"+t,d=r.util.copy(r),m="";d.level++;var g="valid"+d.level,f="key"+t,y="idx"+t,P=d.dataLevel=r.dataLevel+1,w="data"+P,E="dataProperties"+t,k=Object.keys(i||{}).filter(J),j=r.schema.patternProperties||{},x=Object.keys(j).filter(J),A=r.schema.additionalProperties,R=k.length||x.length,N=A===!1,C=typeof A=="object"&&Object.keys(A).length,O=r.opts.removeAdditional,D=N||C||O,$=r.opts.ownProperties,V=r.baseId,q=r.schema.required;if(q&&(!r.opts.$data||!q.$data)&&q.length<r.opts.loopRequired)var W=r.util.toHash(q);function J(ye){return ye!=="__proto__"}if(e+="var "+h+" = errors;var "+g+" = true;",$&&(e+=" var "+E+" = undefined;"),D){if(e+=$?" "+E+" = "+E+" || Object.keys("+l+"); for (var "+y+"=0; "+y+"<"+E+".length; "+y+"++) { var "+f+" = "+E+"["+y+"]; ":" for (var "+f+" in "+l+") { ",R){if(e+=" var isAdditional"+t+" = !(false ",k.length)if(k.length>8)e+=" || validate.schema"+s+".hasOwnProperty("+f+") ";else{var M=k;if(M)for(var X=-1,B=M.length-1;X<B;)nr=M[X+=1],e+=" || "+f+" == "+r.util.toQuotedString(nr)+" "}if(x.length){var ur=x;if(ur)for(var cr=-1,jr=ur.length-1;cr<jr;)Cr=ur[cr+=1],e+=" || "+r.usePattern(Cr)+".test("+f+") "}e+=" ); if (isAdditional"+t+") { "}if(O=="all")e+=" delete "+l+"["+f+"]; ";else{var Ar=r.errorPath,hr="' + "+f+" + '";if(r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(r.errorPath,f,r.opts.jsonPointers)),N)if(O)e+=" delete "+l+"["+f+"]; ";else{e+=" "+g+" = false; ";var vr=u;u=r.errSchemaPath+"/additionalProperties",(wr=wr||[]).push(e),e="",r.createErrors!==!1?(e+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { additionalProperty: '"+hr+"' } ",r.opts.messages!==!1&&(e+=" , message: '",r.opts._errorDataPathProperty?e+="is an invalid additional property":e+="should NOT have additional properties",e+="' "),r.opts.verbose&&(e+=" , schema: false , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var er=e;e=wr.pop(),!r.compositeRule&&c?r.async?e+=" throw new ValidationError(["+er+"]); ":e+=" validate.errors = ["+er+"]; return false; ":e+=" var err = "+er+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=vr,c&&(e+=" break; ")}else if(C)if(O=="failing"){e+=" var "+h+" = errors;  ";var re=r.compositeRule;r.compositeRule=d.compositeRule=!0,d.schema=A,d.schemaPath=r.schemaPath+".additionalProperties",d.errSchemaPath=r.errSchemaPath+"/additionalProperties",d.errorPath=r.opts._errorDataPathProperty?r.errorPath:r.util.getPathExpr(r.errorPath,f,r.opts.jsonPointers);var Y=l+"["+f+"]";d.dataPathArr[P]=f;var H=r.validate(d);d.baseId=V,r.util.varOccurences(H,w)<2?e+=" "+r.util.varReplace(H,w,Y)+" ":e+=" var "+w+" = "+Y+"; "+H+" ",e+=" if (!"+g+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+f+"]; }  ",r.compositeRule=d.compositeRule=re}else d.schema=A,d.schemaPath=r.schemaPath+".additionalProperties",d.errSchemaPath=r.errSchemaPath+"/additionalProperties",d.errorPath=r.opts._errorDataPathProperty?r.errorPath:r.util.getPathExpr(r.errorPath,f,r.opts.jsonPointers),Y=l+"["+f+"]",d.dataPathArr[P]=f,H=r.validate(d),d.baseId=V,r.util.varOccurences(H,w)<2?e+=" "+r.util.varReplace(H,w,Y)+" ":e+=" var "+w+" = "+Y+"; "+H+" ",c&&(e+=" if (!"+g+") break; ");r.errorPath=Ar}R&&(e+=" } "),e+=" }  ",c&&(e+=" if ("+g+") { ",m+="}")}var Qr=r.opts.useDefaults&&!r.compositeRule;if(k.length){var Rr=k;if(Rr)for(var nr,mr=-1,ee=Rr.length-1;mr<ee;){var dr=i[nr=Rr[mr+=1]];if(r.opts.strictKeywords?typeof dr=="object"&&Object.keys(dr).length>0||dr===!1:r.util.schemaHasRules(dr,r.RULES.all)){var sr=r.util.getProperty(nr),Nr=(Y=l+sr,Qr&&dr.default!==void 0);if(d.schema=dr,d.schemaPath=s+sr,d.errSchemaPath=u+"/"+r.util.escapeFragment(nr),d.errorPath=r.util.getPath(r.errorPath,nr,r.opts.jsonPointers),d.dataPathArr[P]=r.util.toQuotedString(nr),H=r.validate(d),d.baseId=V,r.util.varOccurences(H,w)<2){H=r.util.varReplace(H,w,Y);var br=Y}else br=w,e+=" var "+w+" = "+Y+"; ";if(Nr)e+=" "+H+" ";else{if(W&&W[nr]){e+=" if ( "+br+" === undefined ",$&&(e+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+r.util.escapeQuotes(nr)+"') "),e+=") { "+g+" = false; ",Ar=r.errorPath,vr=u;var wr,Ir=r.util.escapeQuotes(nr);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(Ar,nr,r.opts.jsonPointers)),u=r.errSchemaPath+"/required",(wr=wr||[]).push(e),e="",r.createErrors!==!1?(e+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { missingProperty: '"+Ir+"' } ",r.opts.messages!==!1&&(e+=" , message: '",r.opts._errorDataPathProperty?e+="is a required property":e+="should have required property \\'"+Ir+"\\'",e+="' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ",er=e,e=wr.pop(),!r.compositeRule&&c?r.async?e+=" throw new ValidationError(["+er+"]); ":e+=" validate.errors = ["+er+"]; return false; ":e+=" var err = "+er+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=vr,r.errorPath=Ar,e+=" } else { "}else c?(e+=" if ( "+br+" === undefined ",$&&(e+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+r.util.escapeQuotes(nr)+"') "),e+=") { "+g+" = true; } else { "):(e+=" if ("+br+" !== undefined ",$&&(e+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+r.util.escapeQuotes(nr)+"') "),e+=" ) { ");e+=" "+H+" } "}}c&&(e+=" if ("+g+") { ",m+="}")}}if(x.length){var le=x;if(le)for(var Cr,ge=-1,ue=le.length-1;ge<ue;)dr=j[Cr=le[ge+=1]],(r.opts.strictKeywords?typeof dr=="object"&&Object.keys(dr).length>0||dr===!1:r.util.schemaHasRules(dr,r.RULES.all))&&(d.schema=dr,d.schemaPath=r.schemaPath+".patternProperties"+r.util.getProperty(Cr),d.errSchemaPath=r.errSchemaPath+"/patternProperties/"+r.util.escapeFragment(Cr),e+=$?" "+E+" = "+E+" || Object.keys("+l+"); for (var "+y+"=0; "+y+"<"+E+".length; "+y+"++) { var "+f+" = "+E+"["+y+"]; ":" for (var "+f+" in "+l+") { ",e+=" if ("+r.usePattern(Cr)+".test("+f+")) { ",d.errorPath=r.util.getPathExpr(r.errorPath,f,r.opts.jsonPointers),Y=l+"["+f+"]",d.dataPathArr[P]=f,H=r.validate(d),d.baseId=V,r.util.varOccurences(H,w)<2?e+=" "+r.util.varReplace(H,w,Y)+" ":e+=" var "+w+" = "+Y+"; "+H+" ",c&&(e+=" if (!"+g+") break; "),e+=" } ",c&&(e+=" else "+g+" = true; "),e+=" }  ",c&&(e+=" if ("+g+") { ",m+="}"))}return c&&(e+=" "+m+" if ("+h+" == errors) {"),e},propertyNames:function(r,a,o){var e=" ",t=r.level,n=r.dataLevel,i=r.schema[a],s=r.schemaPath+r.util.getProperty(a),u=r.errSchemaPath+"/"+a,c=!r.opts.allErrors,l="data"+(n||""),h="errs__"+t,d=r.util.copy(r);d.level++;var m="valid"+d.level;if(e+="var "+h+" = errors;",r.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:r.util.schemaHasRules(i,r.RULES.all)){d.schema=i,d.schemaPath=s,d.errSchemaPath=u;var g="key"+t,f="idx"+t,y="i"+t,P="' + "+g+" + '",w="data"+(d.dataLevel=r.dataLevel+1),E="dataProperties"+t,k=r.opts.ownProperties,j=r.baseId;k&&(e+=" var "+E+" = undefined; "),e+=k?" "+E+" = "+E+" || Object.keys("+l+"); for (var "+f+"=0; "+f+"<"+E+".length; "+f+"++) { var "+g+" = "+E+"["+f+"]; ":" for (var "+g+" in "+l+") { ",e+=" var startErrs"+t+" = errors; ";var x=g,A=r.compositeRule;r.compositeRule=d.compositeRule=!0;var R=r.validate(d);d.baseId=j,r.util.varOccurences(R,w)<2?e+=" "+r.util.varReplace(R,w,x)+" ":e+=" var "+w+" = "+x+"; "+R+" ",r.compositeRule=d.compositeRule=A,e+=" if (!"+m+") { for (var "+y+"=startErrs"+t+"; "+y+"<errors; "+y+"++) { vErrors["+y+"].propertyName = "+g+"; }   var err =   ",r.createErrors!==!1?(e+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { propertyName: '"+P+"' } ",r.opts.messages!==!1&&(e+=" , message: 'property name \\'"+P+"\\' is invalid' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&c&&(r.async?e+=" throw new ValidationError(vErrors); ":e+=" validate.errors = vErrors; return false; "),c&&(e+=" break; "),e+=" } }"}return c&&(e+="  if ("+h+" == errors) {"),e},required:function(r,a,o){var e=" ",t=r.level,n=r.dataLevel,i=r.schema[a],s=r.schemaPath+r.util.getProperty(a),u=r.errSchemaPath+"/"+a,c=!r.opts.allErrors,l="data"+(n||""),h="valid"+t,d=r.opts.$data&&i&&i.$data;d&&(e+=" var schema"+t+" = "+r.util.getData(i.$data,n,r.dataPathArr)+"; ");var m="schema"+t;if(!d)if(i.length<r.opts.loopRequired&&r.schema.properties&&Object.keys(r.schema.properties).length){var g=[],f=i;if(f)for(var y,P=-1,w=f.length-1;P<w;){y=f[P+=1];var E=r.schema.properties[y];E&&(r.opts.strictKeywords?typeof E=="object"&&Object.keys(E).length>0||E===!1:r.util.schemaHasRules(E,r.RULES.all))||(g[g.length]=y)}}else g=i;if(d||g.length){var k=r.errorPath,j=d||g.length>=r.opts.loopRequired,x=r.opts.ownProperties;if(c)if(e+=" var missing"+t+"; ",j){d||(e+=" var "+m+" = validate.schema"+s+"; ");var A="' + "+($="schema"+t+"["+(C="i"+t)+"]")+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(k,$,r.opts.jsonPointers)),e+=" var "+h+" = true; ",d&&(e+=" if (schema"+t+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+t+")) "+h+" = false; else {"),e+=" for (var "+C+" = 0; "+C+" < "+m+".length; "+C+"++) { "+h+" = "+l+"["+m+"["+C+"]] !== undefined ",x&&(e+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+m+"["+C+"]) "),e+="; if (!"+h+") break; } ",d&&(e+="  }  "),e+="  if (!"+h+") {   ",(D=D||[]).push(e),e="",r.createErrors!==!1?(e+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { missingProperty: '"+A+"' } ",r.opts.messages!==!1&&(e+=" , message: '",r.opts._errorDataPathProperty?e+="is a required property":e+="should have required property \\'"+A+"\\'",e+="' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var R=e;e=D.pop(),!r.compositeRule&&c?r.async?e+=" throw new ValidationError(["+R+"]); ":e+=" validate.errors = ["+R+"]; return false; ":e+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } else { "}else{e+=" if ( ";var N=g;if(N)for(var C=-1,O=N.length-1;C<O;)q=N[C+=1],C&&(e+=" || "),e+=" ( ( "+(X=l+(M=r.util.getProperty(q)))+" === undefined ",x&&(e+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+r.util.escapeQuotes(q)+"') "),e+=") && (missing"+t+" = "+r.util.toQuotedString(r.opts.jsonPointers?q:M)+") ) ";e+=") {  ";var D;A="' + "+($="missing"+t)+" + '",r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(k,$,!0):k+" + "+$),(D=D||[]).push(e),e="",r.createErrors!==!1?(e+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { missingProperty: '"+A+"' } ",r.opts.messages!==!1&&(e+=" , message: '",r.opts._errorDataPathProperty?e+="is a required property":e+="should have required property \\'"+A+"\\'",e+="' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ",R=e,e=D.pop(),!r.compositeRule&&c?r.async?e+=" throw new ValidationError(["+R+"]); ":e+=" validate.errors = ["+R+"]; return false; ":e+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } else { "}else if(j){d||(e+=" var "+m+" = validate.schema"+s+"; ");var $;A="' + "+($="schema"+t+"["+(C="i"+t)+"]")+" + '",r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(k,$,r.opts.jsonPointers)),d&&(e+=" if ("+m+" && !Array.isArray("+m+")) {  var err =   ",r.createErrors!==!1?(e+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { missingProperty: '"+A+"' } ",r.opts.messages!==!1&&(e+=" , message: '",r.opts._errorDataPathProperty?e+="is a required property":e+="should have required property \\'"+A+"\\'",e+="' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+m+" !== undefined) { "),e+=" for (var "+C+" = 0; "+C+" < "+m+".length; "+C+"++) { if ("+l+"["+m+"["+C+"]] === undefined ",x&&(e+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+m+"["+C+"]) "),e+=") {  var err =   ",r.createErrors!==!1?(e+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { missingProperty: '"+A+"' } ",r.opts.messages!==!1&&(e+=" , message: '",r.opts._errorDataPathProperty?e+="is a required property":e+="should have required property \\'"+A+"\\'",e+="' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(e+="  }  ")}else{var V=g;if(V)for(var q,W=-1,J=V.length-1;W<J;){q=V[W+=1];var M=r.util.getProperty(q),X=(A=r.util.escapeQuotes(q),l+M);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(k,q,r.opts.jsonPointers)),e+=" if ( "+X+" === undefined ",x&&(e+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+r.util.escapeQuotes(q)+"') "),e+=") {  var err =   ",r.createErrors!==!1?(e+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { missingProperty: '"+A+"' } ",r.opts.messages!==!1&&(e+=" , message: '",r.opts._errorDataPathProperty?e+="is a required property":e+="should have required property \\'"+A+"\\'",e+="' "),r.opts.verbose&&(e+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r.errorPath=k}else c&&(e+=" if (true) {");return e},uniqueItems:function(r,a,o){var e,t=" ",n=r.level,i=r.dataLevel,s=r.schema[a],u=r.schemaPath+r.util.getProperty(a),c=r.errSchemaPath+"/"+a,l=!r.opts.allErrors,h="data"+(i||""),d="valid"+n,m=r.opts.$data&&s&&s.$data;if(m?(t+=" var schema"+n+" = "+r.util.getData(s.$data,i,r.dataPathArr)+"; ",e="schema"+n):e=s,(s||m)&&r.opts.uniqueItems!==!1){m&&(t+=" var "+d+"; if ("+e+" === false || "+e+" === undefined) "+d+" = true; else if (typeof "+e+" != 'boolean') "+d+" = false; else { "),t+=" var i = "+h+".length , "+d+" = true , j; if (i > 1) { ";var g=r.schema.items&&r.schema.items.type,f=Array.isArray(g);if(!g||g=="object"||g=="array"||f&&(g.indexOf("object")>=0||g.indexOf("array")>=0))t+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+d+" = false; break outer; } } } ";else{t+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var y="checkDataType"+(f?"s":"");t+=" if ("+r.util[y](g,"item",r.opts.strictNumbers,!0)+") continue; ",f&&(t+=` if (typeof item == 'string') item = '"' + item; `),t+=" if (typeof itemIndices[item] == 'number') { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}t+=" } ",m&&(t+="  }  "),t+=" if (!"+d+") {   ";var P=P||[];P.push(t),t="",r.createErrors!==!1?(t+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: { i: i, j: j } ",r.opts.messages!==!1&&(t+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),r.opts.verbose&&(t+=" , schema:  ",t+=m?"validate.schema"+u:""+s,t+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+h+" "),t+=" } "):t+=" {} ";var w=t;t=P.pop(),!r.compositeRule&&l?r.async?t+=" throw new ValidationError(["+w+"]); ":t+=" validate.errors = ["+w+"]; return false; ":t+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } ",l&&(t+=" else { ")}else l&&(t+=" if (true) { ");return t},validate:Je},Be=Pr.toHash,Mt=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],ua=function(r,a){for(var o=0;o<a.length;o++){r=JSON.parse(JSON.stringify(r));var e,t=a[o].split("/"),n=r;for(e=1;e<t.length;e++)n=n[t[e]];for(e=0;e<Mt.length;e++){var i=Mt[e],s=n[i];s&&(n[i]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return r},yo=pe.MissingRef,bo=function r(a,o,e){var t=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof o=="function"&&(e=o,o=void 0);var n=i(a).then(function(){var s=t._addSchema(a,void 0,o);return s.validate||function u(c){try{return t._compile(c)}catch(h){if(h instanceof yo)return l(h);throw h}function l(h){var d=h.missingSchema;if(f(d))throw new Error("Schema "+d+" is loaded but "+h.missingRef+" cannot be resolved");var m=t._loadingSchemas[d];return m||(m=t._loadingSchemas[d]=t._opts.loadSchema(d)).then(g,g),m.then(function(y){if(!f(d))return i(y).then(function(){f(d)||t.addSchema(y,d,void 0,o)})}).then(function(){return u(c)});function g(){delete t._loadingSchemas[d]}function f(y){return t._refs[y]||t._schemas[y]}}}(s)});return e&&n.then(function(s){e(null,s)},e),n;function i(s){var u=s.$schema;return u&&!t.getSchema(u)?r.call(t,{$ref:u},!0):Promise.resolve()}},Po=function(r,a,o){var e,t,n=" ",i=r.level,s=r.dataLevel,u=r.schema[a],c=r.schemaPath+r.util.getProperty(a),l=r.errSchemaPath+"/"+a,h=!r.opts.allErrors,d="data"+(s||""),m="valid"+i,g="errs__"+i,f=r.opts.$data&&u&&u.$data;f?(n+=" var schema"+i+" = "+r.util.getData(u.$data,s,r.dataPathArr)+"; ",t="schema"+i):t=u;var y,P,w,E,k,j="definition"+i,x=this.definition,A="";if(f&&x.$data){k="keywordValidate"+i;var R=x.validateSchema;n+=" var "+j+" = RULES.custom['"+a+"'].definition; var "+k+" = "+j+".validate;"}else{if(!(E=r.useCustomRule(this,u,r.schema,r)))return;t="validate.schema"+c,k=E.code,y=x.compile,P=x.inline,w=x.macro}var N=k+".errors",C="i"+i,O="ruleErr"+i,D=x.async;if(D&&!r.async)throw new Error("async keyword in sync schema");if(P||w||(n+=N+" = null;"),n+="var "+g+" = errors;var "+m+";",f&&x.$data&&(A+="}",n+=" if ("+t+" === undefined) { "+m+" = true; } else { ",R&&(A+="}",n+=" "+m+" = "+j+".validateSchema("+t+"); if ("+m+") { ")),P)x.statements?n+=" "+E.validate+" ":n+=" "+m+" = "+E.validate+"; ";else if(w){var $=r.util.copy(r);A="",$.level++;var V="valid"+$.level;$.schema=E.validate,$.schemaPath="";var q=r.compositeRule;r.compositeRule=$.compositeRule=!0;var W=r.validate($).replace(/validate\.schema/g,k);r.compositeRule=$.compositeRule=q,n+=" "+W}else{(B=B||[]).push(n),n="",n+="  "+k+".call( ",r.opts.passContext?n+="this":n+="self",y||x.schema===!1?n+=" , "+d+" ":n+=" , "+t+" , "+d+" , validate.schema"+r.schemaPath+" ",n+=" , (dataPath || '')",r.errorPath!='""'&&(n+=" + "+r.errorPath);var J=s?"data"+(s-1||""):"parentData",M=s?r.dataPathArr[s]:"parentDataProperty",X=n+=" , "+J+" , "+M+" , rootData )  ";n=B.pop(),x.errors===!1?(n+=" "+m+" = ",D&&(n+="await "),n+=X+"; "):n+=D?" var "+(N="customErrors"+i)+" = null; try { "+m+" = await "+X+"; } catch (e) { "+m+" = false; if (e instanceof ValidationError) "+N+" = e.errors; else throw e; } ":" "+N+" = null; "+m+" = "+X+"; "}if(x.modifying&&(n+=" if ("+J+") "+d+" = "+J+"["+M+"];"),n+=""+A,x.valid)h&&(n+=" if (true) { ");else{var B;n+=" if ( ",x.valid===void 0?(n+=" !",n+=w?""+V:""+m):n+=" "+!x.valid+" ",n+=") { ",e=this.keyword,(B=B||[]).push(n),n="",(B=B||[]).push(n),n="",r.createErrors!==!1?(n+=" { keyword: '"+(e||"custom")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",r.opts.messages!==!1&&(n+=` , message: 'should pass "`+this.keyword+`" keyword validation' `),r.opts.verbose&&(n+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var ur=n;n=B.pop(),!r.compositeRule&&h?r.async?n+=" throw new ValidationError(["+ur+"]); ":n+=" validate.errors = ["+ur+"]; return false; ":n+=" var err = "+ur+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var cr=n;n=B.pop(),P?x.errors?x.errors!="full"&&(n+="  for (var "+C+"="+g+"; "+C+"<errors; "+C+"++) { var "+O+" = vErrors["+C+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+r.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+l+'"; } ',r.opts.verbose&&(n+=" "+O+".schema = "+t+"; "+O+".data = "+d+"; "),n+=" } "):x.errors===!1?n+=" "+cr+" ":(n+=" if ("+g+" == errors) { "+cr+" } else {  for (var "+C+"="+g+"; "+C+"<errors; "+C+"++) { var "+O+" = vErrors["+C+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+r.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+l+'"; } ',r.opts.verbose&&(n+=" "+O+".schema = "+t+"; "+O+".data = "+d+"; "),n+=" } } "):w?(n+="   var err =   ",r.createErrors!==!1?(n+=" { keyword: '"+(e||"custom")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",r.opts.messages!==!1&&(n+=` , message: 'should pass "`+this.keyword+`" keyword validation' `),r.opts.verbose&&(n+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&h&&(r.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; ")):x.errors===!1?n+=" "+cr+" ":(n+=" if (Array.isArray("+N+")) { if (vErrors === null) vErrors = "+N+"; else vErrors = vErrors.concat("+N+"); errors = vErrors.length;  for (var "+C+"="+g+"; "+C+"<errors; "+C+"++) { var "+O+" = vErrors["+C+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+r.errorPath+";  "+O+'.schemaPath = "'+l+'";  ',r.opts.verbose&&(n+=" "+O+".schema = "+t+"; "+O+".data = "+d+"; "),n+=" } } else { "+cr+" } "),n+=" } ",h&&(n+=" else { ")}return n},ca="http://json-schema.org/draft-07/schema#",ma="http://json-schema.org/draft-07/schema#",da="Core schema meta-schema",pa={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},fa=["object","boolean"],ha={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},wo={$schema:ca,$id:ma,title:da,definitions:pa,type:fa,properties:ha,default:!0},Xe=oa(Object.freeze({__proto__:null,$schema:ca,$id:ma,title:da,definitions:pa,type:fa,properties:ha,default:wo})),Eo={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Xe.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Xe.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},So=/^[a-z_$][a-z0-9_$-]*$/i,Fo=function(r,a){var o=this.RULES;if(o.keywords[r])throw new Error("Keyword "+r+" is already defined");if(!So.test(r))throw new Error("Keyword "+r+" is not a valid identifier");if(a){this.validateKeyword(a,!0);var e=a.type;if(Array.isArray(e))for(var t=0;t<e.length;t++)i(r,e[t],a);else i(r,e,a);var n=a.metaSchema;n&&(a.$data&&this._opts.$data&&(n={anyOf:[n,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),a.validateSchema=this.compile(n,!0))}function i(s,u,c){for(var l,h=0;h<o.length;h++){var d=o[h];if(d.type==u){l=d;break}}l||(l={type:u,rules:[]},o.push(l));var m={keyword:s,definition:c,custom:!0,code:Po,implements:c.implements};l.rules.push(m),o.custom[s]=m}return o.keywords[r]=o.all[r]=!0,this},xo=function(r){var a=this.RULES.custom[r];return a?a.definition:this.RULES.keywords[r]||!1},Oo=function(r){var a=this.RULES;delete a.keywords[r],delete a.all[r],delete a.custom[r];for(var o=0;o<a.length;o++)for(var e=a[o].rules,t=0;t<e.length;t++)if(e[t].keyword==r){e.splice(t,1);break}return this},_o=function r(a,o){r.errors=null;var e=this._validateKeyword=this._validateKeyword||this.compile(Eo,!0);if(e(a))return!0;if(r.errors=e.errors,o)throw new Error("custom keyword definition is invalid: "+this.errorsText(e.errors));return!1},va="http://json-schema.org/draft-07/schema#",ga="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",ya="Meta-schema for $data reference (JSON Schema extension proposal)",ba=["$data"],Pa={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Do={$schema:va,$id:ga,description:ya,type:"object",required:ba,properties:Pa,additionalProperties:!1},ko=oa(Object.freeze({__proto__:null,$schema:va,$id:ga,description:ya,type:"object",required:ba,properties:Pa,additionalProperties:!1,default:Do})),jo=ir;ir.prototype.validate=function(r,a){var o;if(typeof r=="string"){if(!(o=this.getSchema(r)))throw new Error('no schema with key or ref "'+r+'"')}else{var e=this._addSchema(r);o=e.validate||this._compile(e)}var t=o(a);return o.$async!==!0&&(this.errors=o.errors),t},ir.prototype.compile=function(r,a){var o=this._addSchema(r,void 0,a);return o.validate||this._compile(o)},ir.prototype.addSchema=function(r,a,o,e){if(Array.isArray(r)){for(var t=0;t<r.length;t++)this.addSchema(r[t],void 0,o,e);return this}var n=this._getId(r);if(n!==void 0&&typeof n!="string")throw new Error("schema id must be string");return Bt(this,a=gr.normalizeId(a||n)),this._schemas[a]=this._addSchema(r,o,e,!0),this},ir.prototype.addMetaSchema=function(r,a,o){return this.addSchema(r,a,o,!0),this},ir.prototype.validateSchema=function(r,a){var o=r.$schema;if(o!==void 0&&typeof o!="string")throw new Error("$schema must be a string");if(!(o=o||this._opts.defaultMeta||function(n){var i=n._opts.meta;return n._opts.defaultMeta=typeof i=="object"?n._getId(i)||i:n.getSchema(Ne)?Ne:void 0,n._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var e=this.validate(o,r);if(!e&&a){var t="schema is invalid: "+this.errorsText();if(this._opts.validateSchema!="log")throw new Error(t);this.logger.error(t)}return e},ir.prototype.getSchema=function(r){var a=Wt(this,r);switch(typeof a){case"object":return a.validate||this._compile(a);case"string":return this.getSchema(a);case"undefined":return function(o,e){var t=gr.schema.call(o,{schema:{}},e);if(t){var n=t.schema,i=t.root,s=t.baseId,u=Ot.call(o,n,i,void 0,s);return o._fragments[e]=new ne({ref:e,fragment:!0,schema:n,root:i,baseId:s,validate:u}),u}}(this,r)}},ir.prototype.removeSchema=function(r){if(r instanceof RegExp)return Oe(this,this._schemas,r),Oe(this,this._refs,r),this;switch(typeof r){case"undefined":return Oe(this,this._schemas),Oe(this,this._refs),this._cache.clear(),this;case"string":var a=Wt(this,r);return a&&this._cache.del(a.cacheKey),delete this._schemas[r],delete this._refs[r],this;case"object":var o=this._opts.serialize,e=o?o(r):r;this._cache.del(e);var t=this._getId(r);t&&(t=gr.normalizeId(t),delete this._schemas[t],delete this._refs[t])}return this},ir.prototype.addFormat=function(r,a){return typeof a=="string"&&(a=new RegExp(a)),this._formats[r]=a,this},ir.prototype.errorsText=function(r,a){if(!(r=r||this.errors))return"No errors";for(var o=(a=a||{}).separator===void 0?", ":a.separator,e=a.dataVar===void 0?"data":a.dataVar,t="",n=0;n<r.length;n++){var i=r[n];i&&(t+=e+i.dataPath+" "+i.message+o)}return t.slice(0,-o.length)},ir.prototype._addSchema=function(r,a,o,e){if(typeof r!="object"&&typeof r!="boolean")throw new Error("schema should be object or boolean");var t=this._opts.serialize,n=t?t(r):r,i=this._cache.get(n);if(i)return i;e=e||this._opts.addUsedSchema!==!1;var s=gr.normalizeId(this._getId(r));s&&e&&Bt(this,s);var u,c=this._opts.validateSchema!==!1&&!a;c&&!(u=s&&s==gr.normalizeId(r.$schema))&&this.validateSchema(r,!0);var l=gr.ids.call(this,r),h=new ne({id:s,schema:r,localRefs:l,cacheKey:n,meta:o});return s[0]!="#"&&e&&(this._refs[s]=h),this._cache.put(n,h),c&&u&&this.validateSchema(r,!0),h},ir.prototype._compile=function(r,a){if(r.compiling)return r.validate=t,t.schema=r.schema,t.errors=null,t.root=a||t,r.schema.$async===!0&&(t.$async=!0),t;var o,e;r.compiling=!0,r.meta&&(o=this._opts,this._opts=this._metaOpts);try{e=Ot.call(this,r.schema,a,r.localRefs)}catch(n){throw delete r.validate,n}finally{r.compiling=!1,r.meta&&(this._opts=o)}return r.validate=e,r.refs=e.refs,r.refVal=e.refVal,r.root=e.root,e;function t(){var n=r.validate,i=n.apply(this,arguments);return t.errors=n.errors,i}},ir.prototype.compileAsync=bo,ir.prototype.addKeyword=Fo,ir.prototype.getKeyword=xo,ir.prototype.removeKeyword=Oo,ir.prototype.validateKeyword=_o,ir.ValidationError=pe.Validation,ir.MissingRefError=pe.MissingRef,ir.$dataMetaSchema=ua;var Ne="http://json-schema.org/draft-07/schema",Ut=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],Ao=["/properties"];function ir(r){if(!(this instanceof ir))return new ir(r);var a,o;r=this._opts=Pr.copy(r)||{},function(e){var t=e._opts.logger;if(t===!1)e.logger={log:Qe,warn:Qe,error:Qe};else{if(t===void 0&&(t=console),!(typeof t=="object"&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=fo(r.format),this._cache=r.cache||new lo,this._loadingSchemas={},this._compilations=[],this.RULES=((a=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}]).all=Be(o=["type","$comment"]),a.types=Be(["number","integer","string","array","object","boolean","null"]),a.forEach(function(e){e.rules=e.rules.map(function(t){var n;if(typeof t=="object"){var i=Object.keys(t)[0];n=t[i],t=i,n.forEach(function(s){o.push(s),a.all[s]=!0})}return o.push(t),a.all[t]={keyword:t,code:qt[t],implements:n}}),a.all.$comment={keyword:"$comment",code:qt.$comment},e.type&&(a.types[e.type]=e)}),a.keywords=Be(o.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),a.custom={},a),this._getId=function(e){switch(e.schemaId){case"auto":return $o;case"id":return Io;default:return Co}}(r),r.loopRequired=r.loopRequired||1/0,r.errorDataPath=="property"&&(r._errorDataPathProperty=!0),r.serialize===void 0&&(r.serialize=sa),this._metaOpts=function(e){for(var t=Pr.copy(e._opts),n=0;n<Ut.length;n++)delete t[Ut[n]];return t}(this),r.formats&&function(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}(this),r.keywords&&function(e){for(var t in e._opts.keywords){var n=e._opts.keywords[t];e.addKeyword(t,n)}}(this),function(e){var t;if(e._opts.$data&&(t=ko,e.addMetaSchema(t,t.$id,!0)),e._opts.meta!==!1){var n=Xe;e._opts.$data&&(n=ua(n,Ao)),e.addMetaSchema(n,Ne,!0),e._refs["http://json-schema.org/schema"]=Ne}}(this),typeof r.meta=="object"&&this.addMetaSchema(r.meta),r.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}(this)}function Wt(r,a){return a=gr.normalizeId(a),r._schemas[a]||r._refs[a]||r._fragments[a]}function Oe(r,a,o){for(var e in a){var t=a[e];t.meta||o&&!o.test(e)||(r._cache.del(t.cacheKey),delete a[e])}}function Io(r){return r.$id&&this.logger.warn("schema $id ignored",r.$id),r.id}function Co(r){return r.id&&this.logger.warn("schema id ignored",r.id),r.$id}function $o(r){if(r.$id&&r.id&&r.$id!=r.id)throw new Error("schema $id is different from id");return r.$id||r.id}function Bt(r,a){if(r._schemas[a]||r._refs[a])throw new Error('schema with key or id "'+a+'" already exists')}function Qe(){}var wa={$$currentLocalizeFn:function(r){if(r&&r.length)for(var a=0;a<r.length;a+=1){var o=r[a],e=void 0,t=void 0,n=void 0;switch(o.keyword){case"$ref":e="无法找到引用".concat(o.params.ref);break;case"additionalItems":e="",t=o.params.limit,e+="不允许超过".concat(t,"个元素");break;case"additionalProperties":e="不允许有额外的属性";break;case"anyOf":e="数据应为 anyOf 所指定的其中一个";break;case"const":e="应当等于常量";break;case"contains":e="应当包含一个有效项";break;case"custom":e='应当通过 "'.concat(o.keyword,' 关键词校验"');break;case"dependencies":e="",t=o.params.depsCount,e+="应当拥有属性".concat(o.params.property,"的依赖属性").concat(o.params.deps);break;case"enum":e="应当是预设定的枚举值之一";break;case"exclusiveMaximum":case"exclusiveMinimum":e="",n="".concat(o.params.comparison," ").concat(o.params.limit),e+="应当为 ".concat(n);break;case"false schema":e="布尔模式出错";break;case"format":e='应当匹配格式 "'.concat(o.params.format,'"');break;case"formatExclusiveMaximum":e="formatExclusiveMaximum 应当是布尔值";break;case"formatExclusiveMinimum":e="formatExclusiveMinimum 应当是布尔值";break;case"formatMaximum":case"formatMinimum":e="",n="".concat(o.params.comparison," ").concat(o.params.limit),e+="应当是 ".concat(n);break;case"if":e='应当匹配模式 "'.concat(o.params.failingKeyword,'" ');break;case"maximum":e="",n="".concat(o.params.comparison," ").concat(o.params.limit),e+="应当为 ".concat(n);break;case"maxItems":e="",t=o.params.limit,e+="不应多于 ".concat(t," 个项");break;case"maxLength":e="",t=o.params.limit,e+="不应多于 ".concat(t," 个字符");break;case"maxProperties":e="",t=o.params.limit,e+="不应有多于 ".concat(t," 个属性");break;case"minimum":e="",n="".concat(o.params.comparison," ").concat(o.params.limit),e+="应当为 ".concat(n);break;case"minItems":e="",t=o.params.limit,e+="不应少于 ".concat(t," 个项");break;case"minLength":e="",t=o.params.limit,e+="不应少于 ".concat(t," 个字符");break;case"minProperties":e="",t=o.params.limit,e+="不应有少于 ".concat(t," 个属性");break;case"multipleOf":e="应当是 ".concat(o.params.multipleOf," 的整数倍");break;case"not":e='不应当匹配 "not" schema';break;case"oneOf":e='只能匹配一个 "oneOf" 中的 schema';break;case"pattern":e='应当匹配模式 "'.concat(o.params.pattern,'"');break;case"patternRequired":e="应当有属性匹配模式 ".concat(o.params.missingPattern);break;case"propertyNames":e="属性名 '".concat(o.params.propertyName,"' 无效");break;case"required":e="应当有必需属性 ".concat(o.params.missingProperty);break;case"switch":e="由于 ".concat(o.params.caseIndex,' 失败，未通过 "switch" 校验, ');break;case"type":e="应当是 ".concat(o.params.type," 类型");break;case"uniqueItems":e="不应当含有重复项 (第 ".concat(o.params.j," 项与第 ").concat(o.params.i," 项是重复的)");break;default:continue}o.message=e}},getCurrentLocalize:function(){return this.$$currentLocalizeFn},useLocal:function(r){this.$$currentLocalizeFn=r}};function Ro(r,a){try{if(ae(a)==="object")return r.fill(null).map(function(){return JSON.parse(JSON.stringify(a))})}catch{}}function No(r,a){return r.filter(function(o){return a.includes(o)})}function Lo(r,a,o){var e=nt(r.$ref,a);r.$ref;var t=yr(r,["$ref"]);return _r(F(F({},e),t),a,o)}function Ea(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];if(a.length<2)return a[0];for(var e={},t=[].concat(a),n=function(){var i=Q(t[0])?t[0]:{},s=Q(t[1])?t[1]:{};e=Object.assign({},i),Object.keys(s).reduce(function(u,c){var l=i[c],h=s[c];if(Q(l)||Q(h))if(Q(l)&&Q(h))u[c]=Ea(l,h);else{var d=Ur(Q(l)?[l,h]:[h,l],2),m=d[0],g=d[1];u[c]=c==="additionalProperties"?g===!0&&m:m}else if(Array.isArray(l)||Array.isArray(h))if(Array.isArray(l)&&Array.isArray(h)){if(Q(l[0])||Q(h[0]))throw new Error("暂不支持如上数组对象元素合并");var f=No([].concat(l),[].concat(h));if(f.length<=0)throw new Error("无法合并如上数据");f.length===0&&c==="type"?u[c]=f[0]:u[c]=f}else{var y=Ur(Array.isArray(l)?[l,h]:[h,l],2),P=y[0],w=y[1];if(w===void 0)u[c]=P;else{if(!P.includes(w))throw new Error("无法合并如下数据");u[c]=w}}else u[c]=l!==void 0&&h!==void 0?c==="maxLength"||c==="maximum"||c==="maxItems"||c==="exclusiveMaximum"||c==="maxProperties"?Math.min(l,h):c==="minLength"||c==="minimum"||c==="minItems"||c==="exclusiveMinimum"||c==="minProperties"?Math.max(l,h):c==="multipleOf"?Ua(l,h):l:l===void 0?h:l;return u},e),t.splice(0,2,e)};t.length>=2;)n();return e}function Sa(r,a,o){var e=F(F({},r),{},{allOf:r.allOf.map(function(i){return _r(i,a,o)})});try{var t=e.allOf,n=yr(e,["allOf"]);return Ea.apply(void 0,[n].concat(Fr(t)))}catch{return e.allOf,yr(e,["allOf"])}}function To(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.hasOwnProperty("allOf")&&(r=Sa(r,a,o)),r.hasOwnProperty("$ref")&&(r=Lo(r,a,o)),r}function _r(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Q(r)?To(r,a,o):{}}var Qt=/{{(.*)}}/;function Fa(r,a,o,e){if(o!==void 0){var t=Qt.exec(o);if(Qt.lastIndex=0,t){var n=t[1].trim();return new Function("parentFormData","rootFormData","return ".concat(n))(Wr(r,a,1),r)}return e()}}function xa(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.schema,o=r.uiSchema,e=arguments.length>1?arguments[1]:void 0,t=Jr({schema:a,uiSchema:o,containsSpec:!1});return["title","description"].reduce(function(n,i){return t[i]&&(n["ui:".concat(i)]=String(t[i]).replace(/\$index/g,e+1)),n},{})}function zo(r){var a=r.schema,o=a===void 0?{}:a,e=r.uiSchema,t=e===void 0?{}:e,n=r.curNodePath,i=n===void 0?"":n,s=r.rootFormData,u=s===void 0?{}:s,c=t["ui:widget"]||o["ui:widget"],l=t["ui:hidden"]||o["ui:hidden"];return c==="HiddenWidget"||c==="hidden"||!!Fa(u,i,l,function(){return typeof l=="function"?l(Wr(u,i,1),u):l})}function Vo(r,a){var o=a.schema,e=o===void 0?{}:o,t=a.uiSchema,n=t===void 0?{}:t,i=e["ui:field"]||n["ui:field"];if(typeof i=="function"||ae(i)==="object"||typeof i=="string")return{field:i,fieldProps:n["ui:fieldProps"]||e["ui:fieldProps"]};var s=r[ot(e)];if(s)return{field:s};if(!s&&(e.anyOf||e.oneOf))return{field:null};throw new Error("不支持的field类型, type: ".concat(e.type))}function Ye(r){var a=r.schema,o=a===void 0?{}:a,e=r.uiSchema,t=e===void 0?{}:e,n=r.curNodePath,i=r.rootFormData,s=i===void 0?{}:i;return Object.assign.apply(Object,[{}].concat(Fr([o,t].map(function(u){return Object.keys(u).reduce(function(c,l){var h=u[l];return l==="ui:options"&&Q(h)?F(F({},c),h):l!=="ui:hidden"&&l.indexOf("ui:")===0?F(F({},c),{},Z({},l.substring(3),n===void 0?h:Fa(s,n,h,function(){return h}))):c},{})}))))}function Jr(r){var a=r.schema,o=a===void 0?{}:a,e=r.uiSchema,t=e===void 0?{}:e,n=r.containsSpec,i=n===void 0||n,s=r.curNodePath,u=r.rootFormData,c={};return i&&(c.readonly=!!o.readOnly,o.multipleOf!==void 0&&(c.step=o.multipleOf),(o.minimum||o.minimum===0)&&(c.min=o.minimum),(o.maximum||o.maximum===0)&&(c.max=o.maximum),(o.minLength||o.minLength===0)&&(c.minlength=o.minLength),(o.maxLength||o.maxLength===0)&&(c.maxlength=o.maxLength),o.format!=="date-time"&&o.format!=="date"||(o.type==="array"?(c.isRange=!0,c.isNumberValue=!(o.items&&o.items.type==="string")):c.isNumberValue=o.type!=="string")),o.title&&(c.title=o.title),o.description&&(c.description=o.description),F(F({},c),Ye({schema:o,uiSchema:t,curNodePath:s,rootFormData:u}))}function ve(r){var a=r.schema,o=a===void 0?{}:a,e=r.uiSchema,t=e===void 0?{}:e,n=r.curNodePath,i=r.rootFormData,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=Jr({schema:o,uiSchema:t,curNodePath:n,rootFormData:i});!u.widget&&s&&Object.assign(u,s({schema:o,uiSchema:t}));var c=u.widget,l=u.title,h=u.labelWidth,d=u.description,m=u.attrs,g=u.class,f=u.style,y=u.widgetListeners,P=u.fieldAttrs,w=u.fieldStyle,E=u.fieldClass,k=u.emptyValue,j=u.width,x=u.getWidget,A=u.renderScopedSlots,R=u.renderChildren,N=u.onChange,C=yr(u,["widget","title","labelWidth","description","attrs","class","style","widgetListeners","fieldAttrs","fieldStyle","fieldClass","emptyValue","width","getWidget","renderScopedSlots","renderChildren","onChange"]);return{widget:c,label:l,labelWidth:h,description:d,widgetAttrs:m,widgetClass:g,widgetStyle:f,fieldAttrs:P,width:j,fieldStyle:w,fieldClass:E,emptyValue:k,getWidget:x,renderScopedSlots:A,renderChildren:R,onChange:N,widgetListeners:y,uiProps:C}}function rt(r){var a=r.schema,o=a===void 0?{}:a,e=r.uiSchema,t=e===void 0?{}:e,n=r.errorSchema,i=n===void 0?{}:n;return Object.assign.apply(Object,[{}].concat(Fr([o,t,i].map(function(s){return Object.keys(s).reduce(function(u,c){var l=s[c];return c==="err:options"&&Q(l)?F(F({},u),l):c.indexOf("err:")===0?F(F({},u),{},Z({},c.substring(4),l)):u},{})}))))}function qo(r,a){if(!Array.isArray(a))return r;var o,e=function(l){return l.reduce(function(h,d){return h[d]=!0,h},{})},t=e(r),n=a.filter(function(l){return l==="*"||t[l]}),i=e(n),s=r.filter(function(l){return!i[l]}),u=n.indexOf("*");if(u===-1){if(s.length)throw new Error("uiSchema order list does not contain ".concat((o=s).length>1?"properties '".concat(o.join("', '"),"'"):"property '".concat(o[0],"'")));return n}if(u!==n.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var c=Fr(n);return c.splice.apply(c,[u,1].concat(Fr(s))),c}function Mo(r){return Array.isArray(r.enum)&&r.enum.length===1||r.hasOwnProperty("const")}function Uo(r){if(Array.isArray(r.enum)&&r.enum.length===1)return r.enum[0];if(r.hasOwnProperty("const"))return r.const;throw new Error("schema cannot be inferred as a constant")}function Le(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=_r(r,a),e=o.oneOf||o.anyOf;return!!Array.isArray(o.enum)||!!Array.isArray(e)&&e.every(function(t){return Mo(t)})}function et(r){return Array.isArray(r.items)&&r.items.length>0&&r.items.every(function(a){return Q(a)})}function Oa(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return!(!r.uniqueItems||!r.items)&&Le(r.items,a)}function _a(r){return r.additionalItems,Q(r.additionalItems)}function ut(r,a,o,e){if(r.enum){var t=Ye({schema:r,uiSchema:a,curNodePath:o,rootFormData:e}).enumNames||r.enumNames;return r.enum.map(function(s,u){return{label:t&&t[u]||String(s),value:s}})}var n=r.oneOf||r.anyOf,i=a.oneOf||a.anyOf;return n.map(function(s,u){var c=i&&i[u]?Ye({schema:s,uiSchema:i[u],curNodePath:o,rootFormData:e}):{},l=Uo(s);return{label:c.title||s.title||String(l),value:l}})}function Wo(r,a,o){if(r)return r;if(a){var e=o.split(".").pop();if(e&&e!=="".concat(Number(e)))return e}return""}var Lr=Da(),Ht=null,Kt=null;function Da(){var r=new jo({errorDataPath:"property",allErrors:!0,multipleOfPrecision:8,schemaId:"auto",unknownFormats:"ignore"});return r.addFormat("data-url",/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/),r.addFormat("color",/^(#?([0-9A-Fa-f]{3,4}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgba?|hsla?)\(.*\))$/),r}function Bo(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return r===null?[]:r.map(function(a){var o=a.dataPath,e=a.keyword,t=a.message,n=a.params,i=a.schemaPath,s="".concat(o);return{name:e,property:s,message:t,params:n,stack:"".concat(s," ").concat(t).trim(),schemaPath:i}})}function Qo(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.formData,o=r.schema,e=r.transformErrors,t=r.additionalMetaSchemas,n=t===void 0?[]:t,i=r.customFormats,s=i===void 0?{}:i,u=!oe(Kt,n),c=!oe(Ht,s);(u||c)&&(Lr=Da()),n&&u&&Array.isArray(n)&&(Lr.addMetaSchema(n),Kt=n),s&&c&&Q(s)&&(Object.keys(s).forEach(function(m){Lr.addFormat(m,s[m])}),Ht=s);var l=null;try{Lr.validate(o,a)}catch(m){l=m}wa.getCurrentLocalize()(Lr.errors);var h=Bo(Lr.errors);Lr.errors=null;var d=l&&l.message&&typeof l.message=="string"&&l.message.includes("no schema with key or ref ");return d&&(h=[].concat(Fr(h),[{stack:l.message}])),typeof e=="function"&&(h=e(h)),{errors:h}}function Ho(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.formData,o=r.schema,e=r.uiSchema,t=r.transformErrors,n=r.additionalMetaSchemas,i=n===void 0?[]:n,s=r.customFormats,u=s===void 0?{}:s,c=r.errorSchema,l=c===void 0?{}:c,h=r.required,d=h!==void 0&&h,m=r.propPath,g=m===void 0?"":m,f=r.isOnlyFirstError,y=f===void 0||f,P=o.type==="array"&&Array.isArray(a)&&a.length===0,w=a===void 0||P;if(d){if(w){var E={keyword:"required",params:{missingProperty:g}},k=rt({schema:o,uiSchema:e,errorSchema:l}).required;return k?E.message=k:wa.getCurrentLocalize()([E]),[E]}}else if(w&&!P)return[];var j=Qo({formData:a,schema:o,transformErrors:t,additionalMetaSchemas:i,customFormats:u}).errors;j=j.filter(function(A){return A.property===""&&!A.schemaPath.includes("#/anyOf/")&&!A.schemaPath.includes("#/oneOf/")||A.name==="additionalProperties"});var x=rt({schema:o,uiSchema:e,errorSchema:l});return(y&&j.length>0?[j[0]]:j).reduce(function(A,R){return R.message=x[R.name]!==void 0?x[R.name]:R.message,A.push(R),A},[])}function Gt(r,a){try{return Lr.validate(r,a)}catch{return!1}}function Ko(r,a,o){for(var e=arguments.length>3&&arguments[3]!==void 0&&arguments[3],t=0;t<a.length;t++){var n=_r(a[t],o,r);if(n.properties){var i=F(F({},o.definitions?{definitions:o.definitions}:{}),{},{anyOf:Object.keys(n.properties).map(function(h){return{required:[h]}})}),s=void 0;if(n.anyOf){var u=ea({},n);u.allOf?u.allOf=u.allOf.slice():u.allOf=[],u.allOf.push(i),s=u}else s=Object.assign({},n,i);if(e||delete s.required,Gt(s,r))return t}else if(Gt(a[t],r))return t}if(a[0]&&a[0].properties){var c=Object.keys(a[0].properties).find(function(h){return a[0].properties[h].const});if(c){for(var l=0;l<a.length;l++)if(a[l].properties&&a[l].properties[c]&&a[l].properties[c].const===r[c])return l}}return-1}function tt(r,a,o){var e=arguments.length>3&&arguments[3]!==void 0&&arguments[3],t=Ko(r,a,o,e);return t===-1?0:t}function at(r,a){if(Array.isArray(a))return Array.isArray(r)?a.map(function(e,t){return r[t]?at(r[t],e):e}):r;if(Q(a)){var o=Object.assign({},r);return Object.keys(a).reduce(function(e,t){return e[t]=at(r?r[t]:{},a[t]),e},o)}return a}function Zr(r,a,o){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},t=arguments.length>4&&arguments[4]!==void 0&&arguments[4],n=arguments.length>5&&arguments[5]!==void 0&&arguments[5],i=Q(r)?r:{},s=Q(e)?e:{};"allOf"in i&&(i=Sa(i,o,s));var u=a;if(Q(u)&&Q(i.default))u=De(u,i.default);else if("default"in i)u=i.default;else{if("$ref"in i){var c=nt(i.$ref,o);return Zr(c,u,o,s,t,n)}if(et(i))u=i.items.map(function(y,P){return Zr(y,Array.isArray(a)?a[P]:void 0,o,s,t,n)});else if("oneOf"in i){var l=_r(i.oneOf[tt(s,i.oneOf,o,n)],o,s);delete(i=De(i,l)).oneOf}else if("anyOf"in i){var h=_r(i.anyOf[tt(s,i.anyOf,o,n)],o,s);delete(i=De(i,h)).anyOf}}switch(u===void 0&&(u=i.default),ot(i)){case"null":return null;case"object":return Object.keys(i.properties||{}).reduce(function(y,P){var w=Zr(i.properties[P],(u||{})[P],o,(s||{})[P],t,n);return(t||w!==void 0)&&(y[P]=w),y},{});case"array":if(Array.isArray(u)&&(u=u.map(function(y,P){return Zr(i.items[P]||i.additionalItems||{},y,o,{},t,n)})),Array.isArray(e)&&(u=e.map(function(y,P){return Zr(i.items,(u||{})[P],o,y,{},t,n)})),i.minItems){if(Oa(i,o))return u||[];var d=u?u.length:0;if(i.minItems>d){var m=u||[],g=Array.isArray(i.items)?i.additionalItems:i.items,f=Ro(new Array(i.minItems-d),Zr(g,g.defaults,o,{},t,n));return m.concat(f)}}u=u===void 0?[]:u}return u}function fe(r,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},e=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],t=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(!Q(r))throw new Error("Invalid schema: ".concat(r));var n=_r(r,o,a),i=Zr(n,r.default,o,a,e,t);return a===void 0?i:Q(a)||Array.isArray(a)?at(i,a):a===0||a===!1||a===""?a:a||i}function ka(r,a){a===void 0&&(a={});var o=a.insertAt;if(r&&typeof document<"u"){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",o==="top"&&e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}}ka('.genFromComponent{font-size:14px;line-height:1;word-wrap:break-word;word-break:break-word;padding:0;margin:0}.genFromComponent a,.genFromComponent h1,.genFromComponent h2,.genFromComponent h3,.genFromComponent li,.genFromComponent p,.genFromComponent ul{font-size:14px}.genFromComponent .genFormIcon{width:12px;height:12px;vertical-align:top}.genFromComponent .genFormBtn{display:inline-block;line-height:1;white-space:nowrap;cursor:pointer;background:#fff;border:1px solid #dcdfe6;color:#606266;-webkit-appearance:none;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;outline:none;margin:0;-webkit-transition:.1s;transition:.1s;font-weight:500;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;padding:12px 20px;font-size:14px;border-radius:4px}.genFromComponent .genFormBtn.is-plain:focus,.genFromComponent .genFormBtn.is-plain:hover{background:#fff;border-color:#409eff;color:#409eff}.genFromComponent .hiddenWidget{display:none}.genFromComponent .fieldGroupWrap+.fieldGroupWrap .fieldGroupWrap_title{margin-top:20px}.genFromComponent .fieldGroupWrap_title{position:relative;display:block;width:100%;line-height:26px;margin-bottom:8px;font-size:15px;font-weight:700;border:0}.genFromComponent .fieldGroupWrap_des{font-size:12px;line-height:20px;margin-bottom:10px;color:#999}.genFromComponent .genFromWidget_des{padding:0;margin-top:0;margin-bottom:2px;font-size:12px;line-height:20px;color:#999;text-align:left;width:100%;-ms-flex-negative:0;flex-shrink:0}.genFromComponent .formItemErrorBox{margin:0 auto;color:#ff5757;padding-top:2px;position:absolute;top:100%;left:0;display:-webkit-box!important;line-height:16px;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;white-space:normal;font-size:12px;text-align:left}.genFromComponent .genFormIcon-qs{fill:#606266;vertical-align:middle;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:-2px;cursor:pointer}.genFromComponent .genFormItemRequired:before{content:"*";color:#f56c6c;margin-right:4px}.genFromComponent .appendCombining_box{margin-bottom:22px}.genFromComponent .appendCombining_box .appendCombining_box{margin-bottom:10px}.genFromComponent .appendCombining_box{padding:10px;background:hsla(0,0%,94.9%,.8);-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 0 3px 1px rgba(0,0,0,.1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 0 3px 1px rgba(0,0,0,.1)}.genFromComponent .validateWidget{margin-bottom:0!important;width:100%!important;-ms-flex-preferred-size:100%!important;flex-basis:100%!important;padding:0!important}.genFromComponent .validateWidget .formItemErrorBox{padding:5px 0;position:relative}.genFromComponent .arrayField:not(.genFormItem){margin-bottom:22px}.genFromComponent .arrayField:not(.genFormItem) .arrayField{margin-bottom:10px}.genFromComponent .arrayOrderList{background:hsla(0,0%,94.9%,.8);-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 0 3px 1px rgba(0,0,0,.1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 0 3px 1px rgba(0,0,0,.1)}.genFromComponent .arrayOrderList_item{position:relative;padding:25px 10px 12px;border-radius:2px;margin-bottom:6px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.genFromComponent .arrayOrderList_bottomAddBtn{text-align:right;padding:15px 10px;margin-bottom:10px}.genFromComponent .bottomAddBtn{width:40%;min-width:10px;max-width:180px}.genFromComponent .arrayListItem_content{padding-top:15px;-webkit-box-flex:1;-ms-flex:1;flex:1;margin:0 auto;-webkit-box-shadow:0 -1px 0 0 rgba(0,0,0,.05);box-shadow:0 -1px 0 0 rgba(0,0,0,.05)}.genFromComponent .arrayListItem_index,.genFromComponent .arrayListItem_operateTool{position:absolute;height:25px}.genFromComponent .arrayListItem_index{top:6px;line-height:18px;height:18px;padding:0 6px;background-color:rgba(0,0,0,.28);color:#fff;font-size:12px;border-radius:2px}.genFromComponent .arrayListItem_operateTool{width:75px;right:9px;top:-1px;text-align:right;font-size:0}.genFromComponent .arrayListItem_btn{vertical-align:top;display:inline-block;padding:6px;margin:0;font-size:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;border:none;cursor:pointer;text-align:center;background:transparent;color:#666}.genFromComponent .arrayListItem_btn:hover{opacity:.6}.genFromComponent .arrayListItem_btn[disabled]{color:#999;opacity:.3!important;cursor:not-allowed}.genFromComponent .arrayListItem_orderBtn-bottom,.genFromComponent .arrayListItem_orderBtn-top{background-color:#f0f9eb}.genFromComponent .arrayListItem_btn-delete{background-color:#fef0f0}.genFromComponent .formFooter_item{text-align:right;border-top:1px solid rgba(0,0,0,.08);padding-top:10px}.genFromComponent.formInlineFooter>.fieldGroupWrap{display:inline-block;margin-right:10px}.genFromComponent.formInline .validateWidget{margin-right:0}.genFromComponent.formInline .formFooter_item{border-top:none;padding-top:0}.genFromWidget_des_mini{font-size:14px;line-height:1.5715}.layoutColumn .layoutColumn_w100{width:100%!important;-ms-flex-preferred-size:100%!important;flex-basis:100%!important}.layoutColumn .fieldGroupWrap_box{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-line-pack:start;align-content:flex-start}.layoutColumn .fieldGroupWrap_box>div{width:100%;-ms-flex-preferred-size:100%;flex-basis:100%}.layoutColumn .fieldGroupWrap_box>.genFormItem{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-sizing:border-box;box-sizing:border-box;padding-right:10px}.layoutColumn.layoutColumn-1 .fieldGroupWrap_box>.genFormItem{padding-right:0}.layoutColumn.layoutColumn-2 .fieldGroupWrap_box>.genFormItem{width:50%;-ms-flex-preferred-size:50%;flex-basis:50%}.layoutColumn.layoutColumn-3 .fieldGroupWrap_box>.genFormItem{width:33.333%;-ms-flex-preferred-size:33.333%;flex-basis:33.333%}');var Go={formFooter:{type:Object,default:function(){return{show:!0,okBtn:"保存",cancelBtn:"取消"}}},modelValue:{type:null,default:function(){return{}},required:!0},fallbackLabel:{type:Boolean,default:!1},strictMode:{type:Boolean,default:!1},formProps:{type:Object,default:function(){return{}}},schema:{type:Object,default:function(){return{}},required:!0},uiSchema:{type:Object,default:function(){return{}}},customFormats:{type:Object,default:function(){return{}}},customRule:{type:Function,default:null},errorSchema:{type:Object,default:function(){return{}}}},Zo={name:"FormFooter",props:{okBtn:{type:String,default:"保存"},okBtnProps:{type:Object,default:function(){return{}}},cancelBtn:{type:String,default:"取消"},formItemAttrs:{type:Object,default:function(){return{}}},globalOptions:{type:Object,default:function(){return{}}}},emits:["cancel","submit"],setup:function(r,a){var o=a.emit,e=r.globalOptions.COMPONENT_MAP;return function(){return I(tr(e.formItem),F({class:{formFooter_item:!0}},r.formItemAttrs),{default:function(){return[I(tr(e.button),{onClick:function(){o("cancel")}},{default:function(){return r.cancelBtn}}),I(tr(e.button),F({style:{marginLeft:"10px"},type:"primary",onClick:function(){o("submit")}},r.okBtnProps),{default:function(){return r.okBtn}})]}})}}},he={name:"FieldGroupWrap",inject:["genFormProvide"],props:{curNodePath:{type:String,default:""},showTitle:{type:Boolean,default:!0},showDescription:{type:Boolean,default:!0},title:{type:String,default:""},description:{type:String,default:""}},computed:{trueTitle:function(){var r,a,o,e=this.title;if(e)return e;typeof((r=this.genFormProvide.fallbackLabel)===null||r===void 0?void 0:r.value)=="boolean"?a=(o=this.genFormProvide.fallbackLabel)===null||o===void 0?void 0:o.value:a=this.genFormProvide.fallbackLabel;var t=a&&this.curNodePath.split(".").pop();return t!=="".concat(Number(t))?t:""}}},Jo={class:"fieldGroupWrap"},Xo={key:0,class:"fieldGroupWrap_title"},Yo={class:"fieldGroupWrap_box"};he.render=function(r,a,o,e,t,n){return Vr(),qr("div",Jo,[o.showTitle&&n.trueTitle?(Vr(),qr("h3",Xo,$a(n.trueTitle),1)):gt("v-if",!0),o.showDescription&&o.description?(Vr(),qr("p",{key:1,class:"fieldGroupWrap_des",innerHTML:o.description},null,8,["innerHTML"])):gt("v-if",!0),Yr("div",Yo,[Ra(r.$slots,"default")])])},he.__file="utils/components/FieldGroupWrap.vue";var xr={formProps:{type:null},globalOptions:{type:null},schema:{type:Object,default:function(){return{}}},uiSchema:{type:Object,default:function(){return{}}},errorSchema:{type:Object,default:function(){return{}}},customRule:{type:Function,default:null},customFormats:{type:Object,default:function(){return{}}},rootSchema:{type:Object,default:function(){return{}}},rootFormData:{type:null,default:function(){return{}}},curNodePath:{type:String,default:""},required:{type:Boolean,default:!1},needValidFieldGroup:{type:Boolean,default:!0}},rn={class:"genFormIcon genFormIcon-down",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},en=Yr("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null,-1),tn={render:function(r,a){return Vr(),qr("svg",rn,[en])},__file:"utils/icons/IconCaretDown.vue"},an={class:"genFormIcon genFormIcon-up",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},on=Yr("path",{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"},null,-1),nn={render:function(r,a){return Vr(),qr("svg",an,[on])},__file:"utils/icons/IconCaretUp.vue"},sn={class:"genFormIcon genFormIcon-close",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ln=Yr("path",{d:`M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1
            191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0
            0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z`},null,-1),un={render:function(r,a){return Vr(),qr("svg",sn,[ln])},__file:"utils/icons/IconClose.vue"},cn={class:"genFormIcon genFormIcon-plus",t:"1551322312294",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10297","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200",height:"200"},mn=Yr("path",{d:"M474 152m8 0l60 0q8 0 8 8l0 704q0 8-8 8l-60 0q-8 0-8-8l0-704q0-8 8-8Z","p-id":"10298"},null,-1),dn=Yr("path",{d:"M168 474m8 0l672 0q8 0 8 8l0 60q0 8-8 8l-672 0q-8 0-8-8l0-60q0-8 8-8Z","p-id":"10299"},null,-1),pn={render:function(r,a){return Vr(),qr("svg",cn,[mn,dn])},__file:"utils/icons/IconPlus.vue"},fn={class:"genFormIcon genFormIcon-qs",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hn=Yr("path",{d:`M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 708c-22.1
            0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 0
            0-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8
            52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6
            8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6
            40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z`},null,-1),vn={render:function(r,a){return Vr(),qr("svg",fn,[hn])},__file:"utils/icons/IconQuestion.vue"},Br={name:"Widget",props:{isFormData:{type:Boolean,default:!0},curValue:{type:null,default:0},schema:{type:Object,default:function(){return{}}},uiSchema:{type:Object,default:function(){return{}}},errorSchema:{type:Object,default:function(){return{}}},customFormats:{type:Object,default:function(){return{}}},customRule:{type:Function,default:null},widget:{type:[String,Function,Object],default:null},required:{type:Boolean,default:!1},emptyValue:{type:null,default:void 0},rootFormData:{type:null},curNodePath:{type:String,default:""},label:{type:String,default:""},width:{type:String,default:""},labelWidth:{type:String,default:""},description:{type:String,default:""},widgetAttrs:{type:Object,default:function(){return{}}},widgetClass:{type:Object,default:function(){return{}}},widgetStyle:{type:Object,default:function(){return{}}},fieldAttrs:{type:Object,default:function(){return{}}},fieldClass:{type:Object,default:function(){return{}}},fieldStyle:{type:Object,default:function(){return{}}},uiProps:{type:Object,default:function(){return{}}},formProps:null,getWidget:null,renderScopedSlots:null,globalOptions:null,onChange:null},emits:["otherDataChange"],inheritAttrs:!0,setup:function(r,a){var o=a.emit,e=Na("genFormProvide"),t=Mr({get:function(){return r.isFormData?Wr(r.rootFormData,r.curNodePath):r.curValue},set:function(i){var s=i===""||i===null?r.emptyValue:i;r.isFormData?Ae(r.rootFormData,r.curNodePath,s):o("otherDataChange",s)}});r.uiProps.enumOptions&&r.uiProps.enumOptions.length>0&&t.value===void 0&&t.value!==r.uiProps.enumOptions[0]&&(r.schema.items?t.value=[]:r.required&&r.formProps.defaultSelectFirstOption&&(t.value=r.uiProps.enumOptions[0].value));var n=ie(null);return typeof r.getWidget=="function"&&te(n,function(){r.getWidget.call(null,n.value)}),function(){var i,s=qa(r.curNodePath),u=r.formProps&&r.formProps.isMiniDes,c=u??r.globalOptions.HELPERS.isMiniDes(r.formProps),l=r.description?I("div",{innerHTML:r.description,class:{genFromWidget_des:!0,genFromWidget_des_mini:c}}):null,h=r.globalOptions.COMPONENT_MAP,d=c&&l?I(tr(h.popover),F({style:{margin:"0 2px",fontSize:"16px",cursor:"pointer"},placement:"top",trigger:"hover"},(i=r.formProps)===null||i===void 0?void 0:i.popover),{default:function(){return l},reference:function(){return I(vn)}}):null,m=F(F({},r.fieldStyle),r.width?{width:r.width,flexBasis:r.width,paddingRight:"10px"}:{}),g=Wo(r.label,r.widget&&e.fallbackLabel.value,r.curNodePath);return I(tr(h.formItem),F(F(F({class:F(F({},r.fieldClass),{},{genFormItem:!0}),style:m},r.fieldAttrs),r.labelWidth?{labelWidth:r.labelWidth}:{}),r.isFormData?{prop:s?"__$$root":r.curNodePath,rules:[{validator:function(f,y,P){s&&(y=r.rootFormData);var w=Ho({formData:y,schema:r.schema,uiSchema:r.uiSchema,customFormats:r.customFormats,errorSchema:r.errorSchema,required:r.required,propPath:r.curNodePath});if(w.length>0)return P?P(w[0].message):Promise.reject(w[0].message);var E=r.customRule;return E&&typeof E=="function"?E({field:r.curNodePath,value:y,rootFormData:r.rootFormData,callback:P}):P?P():Promise.resolve()},trigger:"change"}]}:{}),F(F({error:function(f){return f.error?I("div",{class:{formItemErrorBox:!0},title:f.error},[f.error]):null}},g?{label:function(){return I("span",{class:{genFormLabel:!0,genFormItemRequired:r.required}},["".concat(g)].concat(Fr(d?[d]:[]),["".concat(r.formProps&&r.formProps.labelSuffix||"")]))}}:{}),{},{default:function(f){return[].concat(Fr(!c&&l?[l]:[]),Fr(r.widget?[I(tr(r.widget),F(F(F({style:r.widgetStyle,class:r.widgetClass},r.widgetAttrs),r.uiProps),{},{modelValue:t.value,ref:n,"onUpdate:modelValue":function(y){var P=t.value;P!==y&&(t.value=y,r.onChange&&r.onChange({curVal:y,preVal:P,parentFormData:Wr(r.rootFormData,r.curNodePath,1),rootFormData:r.rootFormData}))}},f?Object.keys(f).reduce(function(y,P){return y[P]=f[P],[r.widgetAttrs[P],r.uiProps[P]].forEach(function(w){w&&typeof w=="function"&&(y[P]=function(){w.apply(void 0,arguments),y[P].apply(y,arguments)})}),y},{}):{}),F({},r.renderScopedSlots?typeof r.renderScopedSlots=="function"?r.renderScopedSlots():r.renderScopedSlots:{}))]:[]))}}))}}},gn={name:"ObjectField",props:xr,setup:function(r){return function(){var a=r.curNodePath,o=Jr({schema:r.schema,uiSchema:r.uiSchema,curNodePath:a,rootFormData:r.rootFormData}),e=o.title,t=o.description,n=o.showTitle,i=o.showDescription,s=o.order,u=o.fieldClass,c=o.fieldAttrs,l=o.fieldStyle,h=o.onlyShowIfDependent,d=qo(Object.keys(r.schema.properties||{}),s).map(function(m){var g=function(w){return Array.isArray(r.schema.required)&&!!~r.schema.required.indexOf(w)}(m),f=function(w){var E=!1,k=!1;return Q(r.schema.dependencies)&&(k=Object.entries(r.schema.dependencies).some(function(j){var x=Ur(j,2),A=x[0],R=x[1],N=!(!Array.isArray(R)||!~R.indexOf(w));return E=E||N,N&&Wr(r.rootFormData,r.curNodePath)[A]!==void 0})),{isDependency:E,curDependent:k}}(m),y=f.isDependency,P=f.curDependent;return y&&h&&!P?null:I(Xr,F(F({key:m},r),{},{schema:r.schema.properties[m],uiSchema:r.uiSchema[m],errorSchema:r.errorSchema[m],required:g||P,curNodePath:je(a,m)}))});return I(he,F({title:e,description:t,showTitle:n,showDescription:i,curNodePath:a,class:F({},u),style:l},c),{default:function(){return[].concat(Fr(d),Fr(r.needValidFieldGroup?[I(Br,{key:"validateWidget-object",class:{validateWidget:!0,"validateWidget-object":!0},schema:Object.entries(r.schema).reduce(function(m,g){var f=Ur(g,2),y=f[0],P=f[1];return r.schema.additionalProperties!==!1&&["properties","id","$id"].includes(y)||(m[y]=P),m},{}),uiSchema:r.uiSchema,errorSchema:r.errorSchema,curNodePath:a,rootFormData:r.rootFormData,globalOptions:r.globalOptions})]:[]))}})}}},ct={name:"StringField",props:xr,setup:function(r,a){var o=a.attrs,e=Mr(function(){var t=Le(r.schema)&&ut(r.schema,r.uiSchema,r.curNodePath,r.rootFormData),n=ve({schema:r.schema,uiSchema:r.uiSchema,curNodePath:r.curNodePath,rootFormData:r.rootFormData},function(){var i=r.schema.type==="number"||r.schema.type==="integer";return{widget:t?r.globalOptions.WIDGET_MAP.common.select:r.globalOptions.WIDGET_MAP.formats[r.schema.format]||(i?r.globalOptions.WIDGET_MAP.types.number:r.globalOptions.WIDGET_MAP.types.string)}});return t&&!n.uiProps.enumOptions&&(n.uiProps.enumOptions=t),n});return function(){return I(Br,F(F(F({},r),o),e.value))}}},yn={name:"NumberField",props:xr,setup:function(r,a){var o=a.attrs;return function(){return I(ct,F(F({},r),o))}}},bn={name:"IntegerField",props:xr,setup:function(r,a){var o=a.attrs;return function(){return I(ct,F(F({},r),o))}}},Pn={name:"BooleanField",props:xr,setup:function(r,a){var o=a.attrs;return function(){var e=r.schema,t=r.uiSchema,n=r.curNodePath,i=r.rootFormData,s=r.globalOptions,u=ut({enumNames:e.enumNames||["true","false"],enum:e.enum||[!0,!1]},t,n,i),c=ve({schema:e,uiSchema:t,curNodePath:n,rootFormData:i},function(){return{widget:s.WIDGET_MAP.types.boolean}});return c.uiProps.enumOptions=c.uiProps.enumOptions||u,I(Br,F(F(F({},o),r),c))}}},ja={name:"ArrayOrderList",emits:["arrayOperate"],props:{vNodeList:{type:Array,default:[]},tupleItemsLength:{type:Number,default:0},addable:{type:Boolean,default:!0},showIndexNumber:{type:Boolean,default:!1},sortable:{type:Boolean,default:!0},removable:{type:Boolean,default:!0},maxItems:{},minItems:{},globalOptions:null},setup:function(r,a){var o=a.emit,e=Mr(function(){var n=r.addable,i=r.maxItems,s=r.vNodeList;return!!n&&(i===void 0||s.length<i)}),t=Mr(function(){var n=r.removable,i=r.minItems,s=r.vNodeList;return!!n&&(i===void 0||s.length>i)});return function(){return r.vNodeList.length<=0&&!r.addable?null:I("div",{class:{arrayOrderList:!0}},r.vNodeList.map(function(n,i){var s=n.key,u=n.vNode,c=r.tupleItemsLength+i,l=i+1;return I("div",{key:s,class:{arrayOrderList_item:!0}},[r.showIndexNumber?I("div",{class:{arrayListItem_index:!0}},l):null,I("div",{class:{arrayListItem_operateTool:!0}},[I("button",{style:F({},r.sortable?{}:{display:"none"}),class:{arrayListItem_btn:!0,"arrayListItem_orderBtn-top":!0},type:"button",disabled:!r.sortable||i===0,onClick:function(){o("arrayOperate",{command:"moveUp",data:{index:c}})}},[I(nn)]),I("button",{style:F({},r.sortable?{}:{display:"none"}),class:{arrayListItem_btn:!0,"arrayListItem_orderBtn-bottom":!0},type:"button",disabled:!r.sortable||i===r.vNodeList.length-1,onClick:function(){o("arrayOperate",{command:"moveDown",data:{index:c}})}},[I(tn)]),I("button",{style:F({},r.removable?{}:{display:"none"}),class:{arrayListItem_btn:!0,"arrayListItem_btn-delete":!0},type:"button",disabled:!t.value,onClick:function(){o("arrayOperate",{command:"remove",data:{index:c}})}},[I(un)])]),I("div",{class:{arrayListItem_content:!0}},[u])])}).concat([I("p",{style:F({},e.value?{}:{display:"none"}),class:{arrayOrderList_bottomAddBtn:!0}},[I("button",{class:{bottomAddBtn:!0,"is-plain":!0,genFormBtn:!0},type:"button",onClick:function(){o("arrayOperate",{command:"add"})}},[I(pn,{style:{marginRight:"5px"}}),r.maxItems?"( ".concat(r.vNodeList.length," / ").concat(r.maxItems," )"):""])])]))}}},wn={name:"ArrayFieldNormal",props:F(F({},xr),{},{itemsFormData:{type:Array}}),setup:function(r,a){var o=a.attrs;return function(){var e=r.schema,t=r.uiSchema,n=r.curNodePath,i=r.rootFormData,s=r.itemsFormData,u=r.errorSchema,c=r.globalOptions,l=Jr({schema:e,uiSchema:t,curNodePath:n,rootFormData:i}),h=l.title,d=l.description,m=l.addable,g=l.showIndexNumber,f=l.sortable,y=l.removable,P=l.showTitle,w=l.showDescription,E=l.fieldClass,k=l.fieldAttrs,j=l.fieldStyle,x=s.map(function(A,R){var N=xa({schema:e.items,uiSchema:t.items},R);return{key:A.key,vNode:I(Xr,F(F({key:A.key},r),{},{schema:e.items,required:![].concat(e.items.type).includes("null"),uiSchema:F(F({},t.items),N),errorSchema:u.items,curNodePath:je(n,R)}))}});return I(he,{title:h,description:d,showTitle:P,showDescription:w,curNodePath:n,class:E,attrs:k,style:j},{default:function(){return I(ja,F(F({},o),{},{vNodeList:x,showIndexNumber:g,addable:m,sortable:f,removable:y,maxItems:e.maxItems,minItems:e.minItems,globalOptions:c}))}})}}},Zt={name:"ArrayFieldMultiSelect",props:F({},xr),setup:function(r,a){var o=a.attrs;return function(){var e=r.schema,t=r.rootSchema,n=r.uiSchema,i=r.curNodePath,s=r.rootFormData,u=r.globalOptions,c=ut(_r(e.items,t),n,i,s),l=ve({schema:e,uiSchema:n,curNodePath:i,rootFormData:s},function(){return{widget:u.WIDGET_MAP.common.checkboxGroup}});return l.uiProps.multiple=!0,c&&!l.uiProps.enumOptions&&(l.uiProps.enumOptions=c),I(Br,F(F(F({},o),r),l))}}},En={name:"ArrayFieldTuple",props:F(F({},xr),{},{itemsFormData:{type:Array,default:function(){return[]}}}),emits:["arrayOperate"],setup:function(r,a){var o=a.emit;return a.attrs,function(){var e=!Array.isArray(r.itemsFormData);if(e||r.itemsFormData.length<r.schema.items.length){var t=fe(r.schema,void 0,r.rootSchema);o("arrayOperate",e?{command:"setNewTarget",data:{newTarget:t}}:{command:"batchPush",data:{pushArray:t.slice(r.itemsFormData.length)}})}}(),function(){if(!Array.isArray(r.itemsFormData))return null;var e,t,n=r.schema,i=r.uiSchema,s=r.errorSchema,u=r.curNodePath,c=r.globalOptions,l=Jr({schema:n,uiSchema:i,curNodePath:u,rootFormData:r.rootFormData}),h=l.title,d=l.description,m=l.addable,g=l.showIndexNumber,f=l.sortable,y=l.removable,P=l.showTitle,w=l.showDescription,E=l.fieldClass,k=l.fieldAttrs,j=l.fieldStyle,x=(e=r.itemsFormData,t=r.schema.items.length-1,e.reduce(function(C,O,D){return C[D>t?1:0].push(O),C},[[],[]])),A=x[0].map(function(C,O){return I(Xr,F(F({key:C.key},r),{},{required:![].concat(n.items[O].type).includes("null"),schema:n.items[O],uiSchema:i.items?i.items[O]:{},errorSchema:s.items?s.items[O]:{},curNodePath:je(u,O)}))}),R=x[1].map(function(C,O){var D=xa({schema:n.additionalItems,uiSchema:i.additionalItems},O);return{key:C.key,vNode:I(Xr,F(F({key:C.key},r),{},{schema:n.additionalItems,required:![].concat(n.additionalItems.type).includes("null"),uiSchema:F(F({},i.additionalItems),D),errorSchema:s.additionalItems,curNodePath:je(r.curNodePath,O+n.items.length)}))}}),N=(m===void 0||m)&&_a(r.schema);return I(he,F(F({title:h,description:d,showTitle:P,showDescription:w,curNodePath:u},k),{},{class:E,style:j}),{default:function(){return[].concat(Fr(A),[I(ja,{onArrayOperate:function(){for(var C=arguments.length,O=new Array(C),D=0;D<C;D++)O[D]=arguments[D];return o.apply(void 0,["arrayOperate"].concat(O))},vNodeList:R,tupleItemsLength:n.items.length,addable:N,showIndexNumber:g,sortable:f,removable:y,maxItems:n.maxItems,minItems:n.minItems,globalOptions:c})])}})}}},Jt={name:"ArrayFieldSpecialFormat",props:xr,setup:function(r,a){var o=a.attrs,e=Mr(function(){return ve({schema:F({"ui:widget":r.globalOptions.WIDGET_MAP.formats[r.schema.format]},r.schema),uiSchema:r.uiSchema,curNodePath:r.curNodePath,rootFormData:r.rootFormData})});return function(){return I(Br,F(F(F({},o),r),e.value))}}},Sn={name:"ArrayField",props:xr,setup:function(r){var a=function(){var i=Wr(r.rootFormData,r.curNodePath);return Array.isArray(i)?i:[]},o=ie(a().map(function(){return de()})),e=Mr(function(){return a()});te(e,function(i,s){i!==s&&yt(i)!==yt(s)&&Array.isArray(i)&&(o.value=i.map(function(){return de()}))},{deep:!0});var t=Mr(function(){return e.value.map(function(i,s){return{key:o.value[s],value:i}})}),n=function(i){var s=i.command,u=i.data,c={moveUp:function(f,y){(function(P,w){if(w===0)return!1;var E=[P[w],P[w-1]];P.splice.apply(P,[w-1,2].concat(E))})(f,y.index)},moveDown:function(f,y){(function(P,w){if(w===P.length-1)return!1;var E=P[w],k=[P[w+1],E];P.splice.apply(P,[w,2].concat(k))})(f,y.index)},remove:function(f,y){(function(P,w){P.splice(w,1).length})(f,y.index)},add:function(f,y){var P=y.newRowData;f.push(P)},batchPush:function(f,y){y.pushArray.forEach(function(P){f.push(P)})},setNewTarget:function(f,y){Ae(y.formData,y.nodePath,y.newTarget)}}[s];if(!c)throw new Error("错误 - 未知的操作：[".concat(s,"]"));var l,h,d,m=u,g=u;s==="add"?(m={newRowData:(l=r.schema,h=r.rootSchema,d=l.items,et(l)&&_a(l)&&(d=l.additionalItems),fe(d,void 0,h))},g={newRowData:de()}):s==="batchPush"?g={pushArray:m.pushArray.map(function(f){return de()})}:s==="setNewTarget"&&(m={formData:r.rootFormData,nodePath:r.curNodePath,newTarget:m.newTarget},g={formData:o,nodePath:"value",newTarget:m.newTarget.map(function(f){return de()})}),c.apply(null,[o.value,g]),c.apply(null,[e.value,m])};return function(){var i=r.schema,s=r.uiSchema,u=r.rootSchema,c=r.rootFormData,l=r.curNodePath,h=r.globalOptions;if(!i.hasOwnProperty("items"))throw new Error("[".concat(i,"] 请先定义 items属性"));if(Oa(i,u))return I(Zt,F(F({},r),{},{class:Z({},ke(Zt.name),!0)}));if(i.format||i["ui:widget"]||s["ui:widget"])return I(Jt,F(F({},r),{},{class:Z({},ke(Jt.name),!0)}));var d=et(i)?En:wn;return I("div",[I(d,F(F({itemsFormData:t.value},r),{},{onArrayOperate:n,class:Z({},ke(d.name),!0)})),r.needValidFieldGroup?I(Br,{key:"validateWidget-array",class:{validateWidget:!0,"validateWidget-array":!0},schema:Object.entries(i).reduce(function(m,g){var f=Ur(g,2),y=f[0],P=f[1];return y!=="items"&&(m[y]=P),m},{}),uiSchema:s,errorSchema:r.errorSchema,curNodePath:l,rootFormData:c,globalOptions:h}):null])}}},Xt={name:"SelectLinkageField",props:F(F({},xr),{},{combiningType:{type:String,default:"anyOf"},selectList:{type:Array,require:!0}}),setup:function(r){var a=ie(tt(Wr(r.rootFormData,r.curNodePath),r.selectList,r.rootSchema,!0)||0),o=function(){var e=ve({schema:r.schema["".concat(r.combiningType,"Select")]||{},uiSchema:r.uiSchema["".concat(r.combiningType,"Select")]||{},curNodePath:r.curNodePath,rootFormData:r.rootFormData},function(){return{widget:"SelectWidget"}});if(e.label=e.label||r.schema.title,e.description=e.description||r.schema.description,!e.uiProps.enumOptions){var t=r.uiSchema[r.combiningType]||[];e.uiProps.enumOptions=r.selectList.map(function(n,i){return{label:Jr({schema:n,uiSchema:t[i],containsSpec:!1}).title||"选项 ".concat(i+1),value:i}})}return I(Br,F(F({key:"fieldSelect_".concat(r.combiningType),class:Z({},"fieldSelect_".concat(r.combiningType),!0),isFormData:!1,curValue:a.value,curNodePath:r.curNodePath,rootFormData:r.rootFormData,globalOptions:r.globalOptions},e),{},{onOtherDataChange:function(n){a.value=n}}))};return te(a,function(e,t){var n=Wr(r.rootFormData,r.curNodePath),i=fe(r.selectList[e],void 0,r.rootSchema),s=Object.prototype.hasOwnProperty;if(Q(n)){var u=_r(r.selectList[t],r.rootSchema);if(ot(u)==="object")for(var c in u.properties)s.call(u.properties,c)&&!s.call(i,c)&&Ma(n,c)}Q(i)?Object.entries(i).forEach(function(l){var h,d=Ur(l,2),m=d[0],g=d[1];g===void 0||n[m]!==void 0&&!Q(g)&&((h=_r(r.selectList[e],r.rootSchema).properties[m])===null||h===void 0?void 0:h.const)===void 0||Ae(n,m,g)}):Ae(r.rootFormData,r.curNodePath,i===void 0?n:i)}),function(){var e,t=r.curNodePath,n=aa(t),i=r.schema.type==="object"||r.schema.properties,s=[o()],u=r.selectList[a.value];if(u){var c=r.schema,l=r.combiningType,h="".concat(r.combiningType,"Select");c.properties,c[l],c[h];var d=yr(c,["properties",l,h].map(Va));u=Object.assign({},d,u)}var m=i&&Pt(u&&u.properties);if(u&&!m){var g=wt(Jr({schema:r.schema,uiSchema:r.uiSchema,containsSpec:!1,curNodePath:t,rootFormData:r.rootFormData}),function(j){return j===r.combiningType?void 0:"ui:".concat(j)}),f=wt(rt({schema:r.schema,uiSchema:r.uiSchema,errorSchema:r.errorSchema}),function(j){return j===r.combiningType?void 0:"err:".concat(j)});s.push(I(Xr,F(F({key:"appendSchema_".concat(r.combiningType)},r),{},{schema:F({"ui:showTitle":!1,"ui:showDescription":!1},u),required:r.required,uiSchema:F(F({},g),(r.uiSchema[r.combiningType]||[])[a.value]),errorSchema:F(F({},f),(r.errorSchema[r.combiningType]||[])[a.value])})))}var y=null;if(i&&!Pt(r.schema.properties)){var P,w=u;w.title,w.description,w.properties;var E=yr(w,["title","description","properties"]),k=Object.assign({},r.schema,E);delete k[r.combiningType],y=I(Xr,F(F({key:"origin_".concat(r.combiningType),class:(P={},Z(P,"".concat(r.combiningType,"_originBox"),!0),Z(P,"".concat(n,"-originBox"),!0),P)},r),{},{schema:k}))}return s.push(I(Br,{key:"validateWidget-".concat(r.combiningType),class:Z({validateWidget:!0},"validateWidget-".concat(r.combiningType),!0),schema:r.schema,uiSchema:r.uiSchema,errorSchema:r.errorSchema,curNodePath:r.curNodePath,rootFormData:r.rootFormData,globalOptions:r.globalOptions})),I("div",[y,I("div",{key:"appendBox_".concat(r.combiningType),class:(e={appendCombining_box:!0},Z(e,"".concat(r.combiningType,"_appendBox"),!0),Z(e,"".concat(n,"-appendBox"),!0),e)},s)])}}},He={array:Sn,boolean:Pn,integer:bn,number:yn,object:gn,string:ct,null:{render:function(){return null}},anyOf:{name:"AnyOfField",setup:function(r,a){var o=a.attrs,e=a.slots;return function(){return I(Xt,F(F({},o),{},{combiningType:"anyOf",selectList:o.schema.anyOf}),e)}}},oneOf:{name:"oneOfField",setup:function(r,a){var o=a.attrs,e=a.slots;return function(){return I(Xt,F(F({},o),{},{combiningType:"oneOf",selectList:o.schema.oneOf}),e)}}}},Xr={name:"SchemaField",props:xr,setup:function(r){return function(){var a,o=_r(r.schema,r.rootSchema),e=F(F({},r),{},{schema:o});if(Object.keys(o).length===0)return null;var t,n,i=Vo(He,e),s=i.field,u=i.fieldProps,c=zo({schema:o,uiSchema:r.uiSchema,curNodePath:r.curNodePath,rootFormData:r.rootFormData}),l=aa(r.curNodePath);return o.anyOf&&o.anyOf.length>0&&!Le(o)?I(tr(He.anyOf),F({class:(t={},Z(t,"".concat(l,"-anyOf"),!0),Z(t,"fieldItem",!0),Z(t,"anyOfField",!0),t)},e)):o.oneOf&&o.oneOf.length>0&&!Le(o)?I(tr(He.oneOf),F({class:(n={},Z(n,"".concat(l,"-oneOf"),!0),Z(n,"fieldItem",!0),Z(n,"oneOfField",!0),n)},e)):s&&!c?I(tr(s),F(F({},e),{},{fieldProps:u,class:(a={},Z(a,ke(s.name)||s,!0),Z(a,"hiddenWidget",c),Z(a,"fieldItem",!0),Z(a,l,!0),a)})):null}}},Or={CheckboxesWidget:Sr({name:"CheckboxesWidget",props:{enumOptions:{default:function(){return[]},type:[Array]}},setup:function(r,a){var o=a.attrs;return function(){return I(tr("n-checkbox-group"),o,{default:function(){return I(tr("n-space"),{itemStyle:"display: flex"},{default:function(){return r.enumOptions.map(function(e,t){return I(tr("n-checkbox"),{key:t,value:e.value},{default:function(){return e.label}})})}})}})}}},{model:"value"}),RadioWidget:Sr({name:"RadioWidget",props:{enumOptions:{default:function(){return[]},type:[Array]}},setup:function(r,a){var o=a.attrs;return function(){return I(tr("n-radio-group"),o,{default:function(){return r.enumOptions.map(function(e,t){return I(tr("n-radio"),{key:t,value:e.value},{default:function(){return e.label}})})}})}}},{model:"value"}),SelectWidget:Sr({name:"SelectWidget",props:{enumOptions:{default:function(){return[]},type:[Array]}},setup:function(r,a){var o=a.attrs;return function(){return I(tr("n-select"),F({options:r.enumOptions},o))}}},{model:"value"}),TimePickerWidget:{name:"TimePickerWidget",inheritAttrs:!1,setup:function(r,a){var o=a.attrs;return function(){var e=o.modelValue,t=o["onUpdate:modelValue"],n=yr(o,["modelValue","onUpdate:modelValue"]);return I(tr("n-time-picker"),F(F({},n),{},{valueFormat:"HH:mm:ss",formattedValue:e,onUpdateFormattedValue:t}))}}},DatePickerWidget:{name:"DatePickerWidget",inheritAttrs:!1,setup:function(r,a){var o=a.attrs;return function(){var e=o.isNumberValue,t=o.isRange,n=o.modelValue,i=o["onUpdate:modelValue"],s=yr(o,["isNumberValue","isRange","modelValue","onUpdate:modelValue"]),u=t&&n&&n.length===0?null:n;return I(tr("n-date-picker"),F(F({type:t?"daterange":"date"},s),e?{value:u,onUpdateValue:i}:{valueFormat:e?"T":"yyyy-MM-dd",formattedValue:u,onUpdateFormattedValue:i}))}}},DateTimePickerWidget:{name:"DatePickerWidget",inheritAttrs:!1,setup:function(r,a){var o=a.attrs;return function(){var e=o.isNumberValue,t=o.isRange,n=o.modelValue,i=o["onUpdate:modelValue"],s=yr(o,["isNumberValue","isRange","modelValue","onUpdate:modelValue"]),u=t&&n&&n.length===0?null:n;return I(tr("n-date-picker"),F(F({type:t?"datetimerange":"datetime"},s),e?{value:u,onUpdateValue:i}:{valueFormat:e?"T":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",formattedValue:u,onUpdateFormattedValue:i}))}}},UploadWidget:{name:"UploadWidget",props:{modelValue:{default:null,type:[String,Array]},responseFileUrl:{default:function(){return function(r){return r?r.url||r.data&&r.data.url:""}},type:[Function]},btnText:{type:String,default:"点击上传"},slots:{type:null,default:null}},setup:function(r,a){var o=a.attrs,e=a.emit,t=r.modelValue,n=Array.isArray(t),i=o.fileList||(n?t.map(function(c,l){return{id:String(l),status:"finished",name:"已上传文件（".concat(l+1,"）"),url:c}}):t?[{id:"1",status:"finished",name:"已上传文件",url:t}]:[]),s=ie(i),u=ra().appContext.config.globalProperties;return function(){o["onUpdate:modelValue"];var c=yr(o,["onUpdate:modelValue"]),l=F(F({fileList:s.value,"on-error":function(){u.$message&&u.$message.error("文件上传失败")}},c),{},{"onUpdate:fileList":function(d){(function(m){var g;if(n)g=m.length?m.reduce(function(P,w){var E=w.url;return E&&P.push(E),P},[]):[];else{var f=m[m.length-1],y=f&&f.url;y&&(g=y)}e("update:modelValue",g)})(d)},"on-change":function(d){var m=d.fileList;s.value=m},"on-finish":function(d){var m=d.file,g=d.event;return m.url=function(f){var y={};try{y=JSON.parse(f.response)}catch{}return r.responseFileUrl(y)||y.url||""}(g.target),m}});n||(l.max=1);var h=F({default:function(){return I(tr("n-button"),{type:"primary"},{default:function(){return r.btnText}})}},r.slots||{});return I(tr("n-upload"),l,h)}}},InputWidget:Sr("n-input"),ColorWidget:Sr("n-color-picker"),TextAreaWidget:Sr("n-textarea"),InputNumberWidget:Sr("n-input-number"),AutoCompleteWidget:Sr("n-auto-complete"),SliderWidget:Sr("n-slider"),RateWidget:Sr("n-rate"),SwitchWidget:Sr("n-switch")},Yt=Or.InputNumberWidget,Fn={types:{boolean:Or.SwitchWidget,string:Or.InputWidget,number:Yt,integer:Yt},formats:{color:Or.ColorWidget,time:Or.TimePickerWidget,date:Or.DatePickerWidget,"date-time":Or.DateTimePickerWidget},common:{select:Or.SelectWidget,radioGroup:Or.RadioWidget,checkboxGroup:Or.CheckboxesWidget},widgetComponents:Or};ka(".genFromComponent .n-form-item-blank{-ms-flex-wrap:wrap;flex-wrap:wrap}.genFromComponent .n-form-item.n-form-item--top-labelled{grid-template-rows:none}.genFromComponent .formFooter_item .n-form-item-blank{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.genFromComponent .n-form-item-feedback--error .n-form-item-feedback__line{display:-webkit-box!important;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;white-space:normal;text-align:left;line-height:1.2;font-size:12px}.genFromComponent .validateWidget .n-form-item-blank,.genFromComponent .validateWidget .n-form-item-feedback-wrapper{min-height:auto}");var xn={WIDGET_MAP:Fn,COMPONENT_MAP:{form:_e({inheritAttrs:!1,setup:function(r,a){var o=a.attrs,e=a.slots,t={top:{labelAlign:"left",labelPlacement:"top"},left:{labelAlign:"left",labelPlacement:"left"},right:{labelAlign:"right",labelPlacement:"left"}},n=ie(null);return o.setFormRef&&za(function(){n.value.$$validate=function(i){n.value.validate(function(s){return s?i(!1,s):i(!0)})},o.setFormRef(n.value)}),function(){o.setFormRef;var i=o.labelPosition,s=o.model,u=yr(o,["setFormRef","labelPosition","model"]);return I(tr("n-form"),F(F({ref:n,model:s.value},t[i||"top"]),u),e)}}}),formItem:_e({inheritAttrs:!1,setup:function(r,a){var o=a.attrs,e=a.slots;return function(){var t=o.prop,n=o.rules,i=F(F({},yr(o,["prop","rules"])),{},{path:t,rule:(n||[]).map(function(s){return{trigger:s.trigger,asyncValidator:function(u,c,l){return s.validator(u,c,l)}}})});return I(tr("n-form-item"),i,e)}}}),button:"n-button",popover:_e({setup:function(r,a){var o=a.attrs,e=a.slots;return function(){return I(tr("n-popover"),o,{trigger:e.reference,default:e.default})}}})},HELPERS:{isMiniDes:function(r){return r&&["left","right"].includes(r.labelPosition)}}},_n=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a={name:"VueForm",props:Go,emits:["update:modelValue","change","cancel","submit","validation-failed","form-mounted"],setup:function(o,e){var t=e.slots,n=e.emit,i=ra();!a.installed&&r.WIDGET_MAP.widgetComponents&&(Object.entries(r.WIDGET_MAP.widgetComponents).forEach(function(m){var g=Ur(m,2),f=g[0],y=g[1];return i.appContext.app.component(f,y)}),a.installed=!0);var s=La(o,"fallbackLabel");Ta("genFormProvide",{fallbackLabel:s});var u=ie(fe(o.schema,o.modelValue,o.schema,o.strictMode)),c=Mr(function(){return F({show:!0,okBtn:"保存",okBtnProps:{},cancelBtn:"取消"},o.formFooter)}),l=null,h=function(m,g){n("update:modelValue",m),n("change",{newValue:m,oldValue:g})},d=function(m,g){if(!oe(m,g)){var f=fe(o.schema,o.modelValue,o.schema,o.strictMode);oe(u.value,f)||(u.value=f)}};return te(u,function(m,g){h(m,g)},{deep:!0}),te(function(){return o.schema},function(m,g){d(m,g)}),te(function(){return o.modelValue},function(m,g){d(m,g)}),h(u.value,o.modelValue),function(){var m,g=o.formProps,f=g.layoutColumn,y=f===void 0?1:f,P=g.inlineFooter;g.labelSuffix,g.isMiniDes,g.defaultSelectFirstOption,g.popover;var w=yr(g,["layoutColumn","inlineFooter","labelSuffix","isMiniDes","defaultSelectFirstOption","popover"]),E=w.inline,k=E!==void 0&&E,j=w.labelPosition,x=j===void 0?"top":j,A={schema:o.schema,uiSchema:o.uiSchema,errorSchema:o.errorSchema,customFormats:o.customFormats,customRule:o.customRule,rootSchema:o.schema,rootFormData:u.value,curNodePath:"",globalOptions:r,formProps:F({labelPosition:x,labelSuffix:"：",defaultSelectFirstOption:!0,inline:k},o.formProps)};return I(tr(r.COMPONENT_MAP.form),F({class:(m={genFromComponent:!0,formInlineFooter:P,formInline:k},Z(m,"genFromComponent_".concat(o.schema.id,"Form"),!!o.schema.id),Z(m,"layoutColumn",!k),Z(m,"layoutColumn-".concat(y),!k),m),setFormRef:function(R){l=R,i.ctx.$$uiFormRef=l,n("form-mounted",R,{formData:u.value})},onSubmit:function(R){R.preventDefault()},model:u,labelPosition:x,inline:k},w),{default:function(){return[I(Xr,A),t.default?t.default({formData:u,formRefFn:function(){return l}}):c.value.show?I(Zo,{globalOptions:r,okBtn:c.value.okBtn,okBtnProps:c.value.okBtnProps,cancelBtn:c.value.cancelBtn,formItemAttrs:c.value.formItemAttrs,onCancel:function(){n("cancel")},onSubmit:function(){(l.$$validate||l.validate)(function(R,N){return R?n("submit",u):n("validation-failed",N)})}}):[]]}})}},install:function(o){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.component(e.name||a.name,a)}};return a}(xn),Dn=Sr;export{_n as $,Dn as N};
//# sourceMappingURL=vue3-form-naive.esm.min-78ea07db.js.map
